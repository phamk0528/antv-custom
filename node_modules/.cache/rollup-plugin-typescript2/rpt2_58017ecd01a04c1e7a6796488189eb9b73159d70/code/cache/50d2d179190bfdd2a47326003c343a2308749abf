{"code":"import { __assign, __extends } from \"tslib\";\r\nimport { GM } from '@antv/g-gesture';\r\nimport { shouldAddResizeArea } from './../utils/interaction/resize';\r\nimport { HeaderCell } from './header-cell';\r\nimport { isMobile } from \"../utils/is-mobile\";\r\nimport { CellTypes, KEY_GROUP_ROW_RESIZE_AREA, ResizeAreaEffect, ResizeDirectionType, S2Event, } from \"../common/constant\";\r\nimport { CellBorderPosition, } from \"../common/interface\";\r\nimport { getTextPosition, getBorderPositionAndStyle } from \"../utils/cell/cell\";\r\nimport { renderLine, renderRect, renderTreeIcon } from \"../utils/g-renders\";\r\nimport { getAllChildrenNodeHeight } from \"../utils/get-all-children-node-height\";\r\nimport { getAdjustPosition } from \"../utils/text-absorption\";\r\nimport { getResizeAreaAttrs, getOrCreateResizeAreaGroupById, } from \"../utils/interaction/resize\";\r\nvar RowCell = /** @class */ (function (_super) {\r\n    __extends(RowCell, _super);\r\n    function RowCell() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(RowCell.prototype, \"cellType\", {\r\n        get: function () {\r\n            return CellTypes.ROW_CELL;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    RowCell.prototype.destroy = function () {\r\n        var _a;\r\n        _super.prototype.destroy.call(this);\r\n        (_a = this.gm) === null || _a === void 0 ? void 0 : _a.destroy();\r\n    };\r\n    RowCell.prototype.initCell = function () {\r\n        _super.prototype.initCell.call(this);\r\n        // 1、draw rect background\r\n        this.drawBackgroundShape();\r\n        this.drawInteractiveBgShape();\r\n        // draw icon\r\n        this.drawTreeIcon();\r\n        // draw text\r\n        this.drawTextShape();\r\n        // draw bottom border\r\n        this.drawRectBorder();\r\n        // draw hot-spot rect\r\n        this.drawResizeAreaInLeaf();\r\n        // draw action icon shapes: trend icon, drill-down icon ...\r\n        this.drawActionIcons();\r\n        this.update();\r\n    };\r\n    RowCell.prototype.drawBackgroundShape = function () {\r\n        var _a = this.getStyle().cell, backgroundColor = _a.backgroundColor, backgroundColorOpacity = _a.backgroundColorOpacity;\r\n        this.backgroundShape = renderRect(this, __assign(__assign({}, this.getCellArea()), { fill: backgroundColor, stroke: 'transparent', opacity: backgroundColorOpacity }));\r\n    };\r\n    // 交互使用的背景色\r\n    RowCell.prototype.drawInteractiveBgShape = function () {\r\n        this.stateShapes.set('interactiveBgShape', renderRect(this, __assign(__assign({}, this.getCellArea()), { fill: 'transparent', stroke: 'transparent' })));\r\n    };\r\n    RowCell.prototype.showTreeIcon = function () {\r\n        return this.spreadsheet.isHierarchyTreeType() && !this.meta.isLeaf;\r\n    };\r\n    // draw tree icon\r\n    RowCell.prototype.drawTreeIcon = function () {\r\n        var _this = this;\r\n        if (!this.showTreeIcon()) {\r\n            return;\r\n        }\r\n        var _a = this.meta, isCollapsed = _a.isCollapsed, id = _a.id, hierarchy = _a.hierarchy;\r\n        var x = this.getContentArea().x;\r\n        var fill = this.getTextStyle().fill;\r\n        var size = this.getStyle().icon.size;\r\n        var contentIndent = this.getContentIndent();\r\n        var iconX = x + contentIndent;\r\n        var iconY = this.getIconYPosition();\r\n        this.treeIcon = renderTreeIcon(this, {\r\n            x: iconX,\r\n            y: iconY,\r\n            width: size,\r\n            height: size,\r\n        }, fill, isCollapsed, function () {\r\n            if (isMobile()) {\r\n                return;\r\n            }\r\n            // 折叠行头时因scrollY没变，导致底层出现空白\r\n            if (!isCollapsed) {\r\n                var oldScrollY = _this.spreadsheet.store.get('scrollY');\r\n                // 可视窗口高度\r\n                var viewportHeight = _this.spreadsheet.facet.panelBBox.viewportHeight || 0;\r\n                // 被折叠项的高度\r\n                var deleteHeight = getAllChildrenNodeHeight(_this.meta);\r\n                // 折叠后真实高度\r\n                var realHeight = hierarchy.height - deleteHeight;\r\n                if (oldScrollY > 0 && oldScrollY + viewportHeight > realHeight) {\r\n                    var currentScrollY = realHeight - viewportHeight;\r\n                    _this.spreadsheet.store.set('scrollY', currentScrollY > 0 ? currentScrollY : 0);\r\n                }\r\n            }\r\n            _this.spreadsheet.emit(S2Event.ROW_CELL_COLLAPSE_TREE_ROWS, {\r\n                id: id,\r\n                isCollapsed: !isCollapsed,\r\n                node: _this.meta,\r\n            });\r\n        });\r\n        // in mobile, we use this cell\r\n        if (isMobile()) {\r\n            this.gm = new GM(this, {\r\n                gestures: ['Tap'],\r\n            });\r\n            this.gm.on('tap', function () {\r\n                _this.spreadsheet.emit(S2Event.ROW_CELL_COLLAPSE_TREE_ROWS, {\r\n                    id: id,\r\n                    isCollapsed: !isCollapsed,\r\n                    node: _this.meta,\r\n                });\r\n            });\r\n        }\r\n    };\r\n    // draw text\r\n    RowCell.prototype.drawTextShape = function () {\r\n        _super.prototype.drawTextShape.call(this);\r\n        this.drawLinkFieldShape();\r\n    };\r\n    RowCell.prototype.drawLinkFieldShape = function () {\r\n        var _a = this.headerConfig.linkFields, linkFields = _a === void 0 ? [] : _a;\r\n        var linkTextFill = this.getTextStyle().linkTextFill;\r\n        _super.prototype.drawLinkFieldShape.call(this, linkFields.includes(this.meta.key), linkTextFill);\r\n    };\r\n    RowCell.prototype.drawRectBorder = function () {\r\n        var _this = this;\r\n        var x = this.getCellArea().x;\r\n        var contentIndent = this.getContentIndent();\r\n        var finalX = this.spreadsheet.isHierarchyTreeType()\r\n            ? x\r\n            : x + contentIndent;\r\n        [CellBorderPosition.BOTTOM, CellBorderPosition.LEFT].forEach(function (type) {\r\n            var _a = getBorderPositionAndStyle(type, __assign(__assign({}, _this.getCellArea()), { x: finalX }), _this.getStyle().cell), position = _a.position, style = _a.style;\r\n            renderLine(_this, position, style);\r\n        });\r\n    };\r\n    RowCell.prototype.drawResizeAreaInLeaf = function () {\r\n        if (!this.meta.isLeaf ||\r\n            !this.shouldDrawResizeAreaByType('rowCellVertical')) {\r\n            return;\r\n        }\r\n        var _a = this.getCellArea(), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n        var resizeStyle = this.getResizeAreaStyle();\r\n        var resizeArea = getOrCreateResizeAreaGroupById(this.spreadsheet, KEY_GROUP_ROW_RESIZE_AREA);\r\n        var _b = this.headerConfig, position = _b.position, seriesNumberWidth = _b.seriesNumberWidth, headerWidth = _b.width, headerHeight = _b.viewportHeight, scrollX = _b.scrollX, scrollY = _b.scrollY;\r\n        var resizeAreaBBox = {\r\n            x: x,\r\n            y: y + height - resizeStyle.size / 2,\r\n            width: width,\r\n            height: resizeStyle.size,\r\n        };\r\n        var resizeClipAreaBBox = {\r\n            x: 0,\r\n            y: 0,\r\n            width: headerWidth,\r\n            height: headerHeight,\r\n        };\r\n        if (!shouldAddResizeArea(resizeAreaBBox, resizeClipAreaBBox, {\r\n            scrollX: scrollX,\r\n            scrollY: scrollY,\r\n        })) {\r\n            return;\r\n        }\r\n        var offsetX = position.x + x - scrollX + seriesNumberWidth;\r\n        var offsetY = position.y + y - scrollY;\r\n        var resizeAreaWidth = this.spreadsheet.isFrozenRowHeader()\r\n            ? headerWidth - seriesNumberWidth - (x - scrollX)\r\n            : width;\r\n        resizeArea.addShape('rect', {\r\n            attrs: __assign(__assign({}, getResizeAreaAttrs({\r\n                id: this.meta.id,\r\n                theme: resizeStyle,\r\n                type: ResizeDirectionType.Vertical,\r\n                effect: ResizeAreaEffect.Cell,\r\n                offsetX: offsetX,\r\n                offsetY: offsetY,\r\n                width: width,\r\n                height: height,\r\n            })), { x: offsetX, y: offsetY + height - resizeStyle.size / 2, width: resizeAreaWidth }),\r\n        });\r\n    };\r\n    RowCell.prototype.getContentIndent = function () {\r\n        if (!this.spreadsheet.isHierarchyTreeType()) {\r\n            return 0;\r\n        }\r\n        var icon = this.getStyle().icon;\r\n        var iconWidth = icon.size + icon.margin.right;\r\n        var parent = this.meta.parent;\r\n        var sum = 0;\r\n        while (parent) {\r\n            if (parent.height !== 0) {\r\n                sum += iconWidth;\r\n            }\r\n            parent = parent.parent;\r\n        }\r\n        return sum;\r\n    };\r\n    RowCell.prototype.getTextIndent = function () {\r\n        var _a = this.getStyle().icon, size = _a.size, margin = _a.margin;\r\n        var contentIndent = this.getContentIndent();\r\n        var treeIconWidth = this.showTreeIcon() ? size + margin.right : 0;\r\n        return contentIndent + treeIconWidth;\r\n    };\r\n    RowCell.prototype.getTextStyle = function () {\r\n        var _a = this.meta, isLeaf = _a.isLeaf, isTotals = _a.isTotals;\r\n        var _b = this.getStyle(), text = _b.text, bolderText = _b.bolderText;\r\n        var style = isLeaf && !isTotals ? text : bolderText;\r\n        return __assign(__assign({}, style), { textBaseline: 'top' });\r\n    };\r\n    RowCell.prototype.getIconPosition = function () {\r\n        var _a = this.textShape.cfg.attrs, x = _a.x, y = _a.y, textAlign = _a.textAlign;\r\n        return {\r\n            x: x +\r\n                (textAlign === 'center'\r\n                    ? this.actualTextWidth / 2\r\n                    : this.actualTextWidth) +\r\n                this.getStyle().icon.margin.left,\r\n            y: y,\r\n        };\r\n    };\r\n    RowCell.prototype.getMaxTextWidth = function () {\r\n        var width = this.getContentArea().width;\r\n        return width - this.getTextIndent() - this.getActionIconsWidth();\r\n    };\r\n    RowCell.prototype.getTextArea = function () {\r\n        var content = this.getContentArea();\r\n        var textIndent = this.getTextIndent();\r\n        return __assign(__assign({}, content), { x: content.x + textIndent, width: content.width - textIndent });\r\n    };\r\n    RowCell.prototype.getTextPosition = function () {\r\n        var textArea = this.getTextArea();\r\n        var _a = this.headerConfig, scrollY = _a.scrollY, height = _a.viewportHeight;\r\n        var fontSize = this.getTextStyle().fontSize;\r\n        var textY = getAdjustPosition(textArea.y, textArea.height, scrollY, height, fontSize);\r\n        var textX = getTextPosition(textArea, this.getTextStyle()).x;\r\n        return { x: textX, y: textY };\r\n    };\r\n    RowCell.prototype.getIconYPosition = function () {\r\n        var textY = this.getTextPosition().y;\r\n        var size = this.getStyle().icon.size;\r\n        var fontSize = this.getTextStyle().fontSize;\r\n        return textY + (fontSize - size) / 2;\r\n    };\r\n    return RowCell;\r\n}(HeaderCell));\r\nexport { RowCell };\r\n//# sourceMappingURL=row-cell.js.map","references":["F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@antv/g-gesture/lib/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/interaction/resize.ts","F:/Ismart/S2-master/packages/s2-core/src/cell/header-cell.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/is-mobile.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts","F:/Ismart/S2-master/packages/s2-core/src/facet/header/row.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/cell/cell.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/g-renders.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/get-all-children-node-height.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/text-absorption.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/interaction/resize.ts"],"map":"{\"version\":3,\"file\":\"row-cell.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/cell/row-cell.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,mBAAmB,EAAE,MAAM,+BAA+B,CAAC;AACpE,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,QAAQ,EAAE,2BAA0B;AAC7C,OAAO,EACL,SAAS,EACT,yBAAyB,EACzB,gBAAgB,EAChB,mBAAmB,EACnB,OAAO,GACR,2BAA0B;AAC3B,OAAO,EACL,kBAAkB,GAGnB,4BAA2B;AAE5B,OAAO,EAAE,eAAe,EAAE,yBAAyB,EAAE,2BAA0B;AAC/E,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,2BAA0B;AAC3E,OAAO,EAAE,wBAAwB,EAAE,8CAA6C;AAChF,OAAO,EAAE,iBAAiB,EAAE,iCAAgC;AAC5D,OAAO,EACL,kBAAkB,EAClB,8BAA8B,GAC/B,oCAAmC;AAEpC;IAA6B,2BAAU;IAAvC;;IAsUA,CAAC;IAjUC,sBAAW,6BAAQ;aAAnB;YACE,OAAO,SAAS,CAAC,QAAQ,CAAC;QAC5B,CAAC;;;OAAA;IAEM,yBAAO,GAAd;;QACE,iBAAM,OAAO,WAAE,CAAC;QAChB,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,EAAE,CAAC;IACrB,CAAC;IAES,0BAAQ,GAAlB;QACE,iBAAM,QAAQ,WAAE,CAAC;QACjB,yBAAyB;QACzB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAE9B,YAAY;QACZ,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,YAAY;QACZ,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,qBAAqB;QACrB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,qBAAqB;QACrB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,2DAA2D;QAC3D,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAES,qCAAmB,GAA7B;QACQ,IAAA,KAA8C,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAhE,eAAe,qBAAA,EAAE,sBAAsB,4BAAyB,CAAC;QAEzE,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC,IAAI,wBACjC,IAAI,CAAC,WAAW,EAAE,KACrB,IAAI,EAAE,eAAe,EACrB,MAAM,EAAE,aAAa,EACrB,OAAO,EAAE,sBAAsB,IAC/B,CAAC;IACL,CAAC;IAED,WAAW;IACD,wCAAsB,GAAhC;QACE,IAAI,CAAC,WAAW,CAAC,GAAG,CAClB,oBAAoB,EACpB,UAAU,CAAC,IAAI,wBACV,IAAI,CAAC,WAAW,EAAE,KACrB,IAAI,EAAE,aAAa,EACnB,MAAM,EAAE,aAAa,IACrB,CACH,CAAC;IACJ,CAAC;IAEO,8BAAY,GAApB;QACE,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;IACrE,CAAC;IAED,iBAAiB;IACP,8BAAY,GAAtB;QAAA,iBAoEC;QAnEC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;YACxB,OAAO;SACR;QAEK,IAAA,KAAiC,IAAI,CAAC,IAAI,EAAxC,WAAW,iBAAA,EAAE,EAAE,QAAA,EAAE,SAAS,eAAc,CAAC;QACzC,IAAA,CAAC,GAAK,IAAI,CAAC,cAAc,EAAE,EAA1B,CAA2B;QAC5B,IAAA,IAAI,GAAK,IAAI,CAAC,YAAY,EAAE,KAAxB,CAAyB;QAC7B,IAAA,IAAI,GAAK,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,KAAzB,CAA0B;QAEtC,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAE9C,IAAM,KAAK,GAAG,CAAC,GAAG,aAAa,CAAC;QAChC,IAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAEtC,IAAI,CAAC,QAAQ,GAAG,cAAc,CAC5B,IAAI,EACJ;YACE,CAAC,EAAE,KAAK;YACR,CAAC,EAAE,KAAK;YACR,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,IAAI;SACb,EACD,IAAI,EACJ,WAAW,EACX;YACE,IAAI,QAAQ,EAAE,EAAE;gBACd,OAAO;aACR;YACD,2BAA2B;YAC3B,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAM,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACzD,SAAS;gBACT,IAAM,cAAc,GAClB,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,IAAI,CAAC,CAAC;gBACvD,UAAU;gBACV,IAAM,YAAY,GAAG,wBAAwB,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gBACzD,UAAU;gBACV,IAAM,UAAU,GAAG,SAAS,CAAC,MAAM,GAAG,YAAY,CAAC;gBACnD,IAAI,UAAU,GAAG,CAAC,IAAI,UAAU,GAAG,cAAc,GAAG,UAAU,EAAE;oBAC9D,IAAM,cAAc,GAAG,UAAU,GAAG,cAAc,CAAC;oBACnD,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CACxB,SAAS,EACT,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CACxC,CAAC;iBACH;aACF;YACD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,EAAE;gBACzD,EAAE,IAAA;gBACF,WAAW,EAAE,CAAC,WAAW;gBACzB,IAAI,EAAE,KAAI,CAAC,IAAI;aAChB,CAAC,CAAC;QACL,CAAC,CACF,CAAC;QAEF,8BAA8B;QAC9B,IAAI,QAAQ,EAAE,EAAE;YACd,IAAI,CAAC,EAAE,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE;gBACrB,QAAQ,EAAE,CAAC,KAAK,CAAC;aAClB,CAAC,CAAC;YACH,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE;gBAChB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,EAAE;oBACzD,EAAE,IAAA;oBACF,WAAW,EAAE,CAAC,WAAW;oBACzB,IAAI,EAAE,KAAI,CAAC,IAAI;iBAChB,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,YAAY;IACF,+BAAa,GAAvB;QACE,iBAAM,aAAa,WAAE,CAAC;QACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAES,oCAAkB,GAA5B;QACU,IAAA,KAAoB,IAAI,CAAC,YAAY,WAAtB,EAAf,UAAU,mBAAG,EAAE,KAAA,CAAuB;QACtC,IAAA,YAAY,GAAK,IAAI,CAAC,YAAY,EAAE,aAAxB,CAAyB;QAE7C,iBAAM,kBAAkB,YAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,YAAY,CAAC,CAAC;IAC7E,CAAC;IAES,gCAAc,GAAxB;QAAA,iBAkBC;QAjBS,IAAA,CAAC,GAAK,IAAI,CAAC,WAAW,EAAE,EAAvB,CAAwB;QAEjC,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC9C,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE;YACnD,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC;QACtB,CAAC,kBAAkB,CAAC,MAAM,EAAE,kBAAkB,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAC,IAAI;YAC1D,IAAA,KAAsB,yBAAyB,CACnD,IAAI,wBAEC,KAAI,CAAC,WAAW,EAAE,KACrB,CAAC,EAAE,MAAM,KAEX,KAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CACrB,EAPO,QAAQ,cAAA,EAAE,KAAK,WAOtB,CAAC;YACF,UAAU,CAAC,KAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAES,sCAAoB,GAA9B;QACE,IACE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;YACjB,CAAC,IAAI,CAAC,0BAA0B,CAAC,iBAAiB,CAAC,EACnD;YACA,OAAO;SACR;QAEK,IAAA,KAA0B,IAAI,CAAC,WAAW,EAAE,EAA1C,CAAC,OAAA,EAAE,CAAC,OAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAuB,CAAC;QACnD,IAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9C,IAAM,UAAU,GAAG,8BAA8B,CAC/C,IAAI,CAAC,WAAW,EAChB,yBAAyB,CAC1B,CAAC;QAEI,IAAA,KAOF,IAAI,CAAC,YAAY,EANnB,QAAQ,cAAA,EACR,iBAAiB,uBAAA,EACV,WAAW,WAAA,EACF,YAAY,oBAAA,EAC5B,OAAO,aAAA,EACP,OAAO,aACY,CAAC;QAEtB,IAAM,cAAc,GAAG;YACrB,CAAC,GAAA;YACD,CAAC,EAAE,CAAC,GAAG,MAAM,GAAG,WAAW,CAAC,IAAI,GAAG,CAAC;YACpC,KAAK,OAAA;YACL,MAAM,EAAE,WAAW,CAAC,IAAI;SACzB,CAAC;QAEF,IAAM,kBAAkB,GAAG;YACzB,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,KAAK,EAAE,WAAW;YAClB,MAAM,EAAE,YAAY;SACrB,CAAC;QAEF,IACE,CAAC,mBAAmB,CAAC,cAAc,EAAE,kBAAkB,EAAE;YACvD,OAAO,SAAA;YACP,OAAO,SAAA;SACR,CAAC,EACF;YACA,OAAO;SACR;QAED,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,iBAAiB,CAAC;QAC7D,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;QAEzC,IAAM,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE;YAC1D,CAAC,CAAC,WAAW,GAAG,iBAAiB,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC;YACjD,CAAC,CAAC,KAAK,CAAC;QAEV,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC1B,KAAK,wBACA,kBAAkB,CAAC;gBACpB,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;gBAChB,KAAK,EAAE,WAAW;gBAClB,IAAI,EAAE,mBAAmB,CAAC,QAAQ;gBAClC,MAAM,EAAE,gBAAgB,CAAC,IAAI;gBAC7B,OAAO,SAAA;gBACP,OAAO,SAAA;gBACP,KAAK,OAAA;gBACL,MAAM,QAAA;aACP,CAAC,KACF,CAAC,EAAE,OAAO,EACV,CAAC,EAAE,OAAO,GAAG,MAAM,GAAG,WAAW,CAAC,IAAI,GAAG,CAAC,EAC1C,KAAK,EAAE,eAAe,GACvB;SACF,CAAC,CAAC;IACL,CAAC;IAES,kCAAgB,GAA1B;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,EAAE;YAC3C,OAAO,CAAC,CAAC;SACV;QACO,IAAA,IAAI,GAAK,IAAI,CAAC,QAAQ,EAAE,KAApB,CAAqB;QACjC,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;QAEhD,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QAC9B,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,OAAO,MAAM,EAAE;YACb,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;gBACvB,GAAG,IAAI,SAAS,CAAC;aAClB;YACD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;SACxB;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAES,+BAAa,GAAvB;QACQ,IAAA,KAAmB,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,EAArC,IAAI,UAAA,EAAE,MAAM,YAAyB,CAAC;QAC9C,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC9C,IAAM,aAAa,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,OAAO,aAAa,GAAG,aAAa,CAAC;IACvC,CAAC;IAES,8BAAY,GAAtB;QACQ,IAAA,KAAuB,IAAI,CAAC,IAAI,EAA9B,MAAM,YAAA,EAAE,QAAQ,cAAc,CAAC;QACjC,IAAA,KAAuB,IAAI,CAAC,QAAQ,EAAE,EAApC,IAAI,UAAA,EAAE,UAAU,gBAAoB,CAAC;QAC7C,IAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;QAEtD,6BACK,KAAK,KACR,YAAY,EAAE,KAAK,IACnB;IACJ,CAAC;IAES,iCAAe,GAAzB;QACQ,IAAA,KAAsB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,EAA5C,CAAC,OAAA,EAAE,CAAC,OAAA,EAAE,SAAS,eAA6B,CAAC;QAErD,OAAO;YACL,CAAC,EACC,CAAC;gBACD,CAAC,SAAS,KAAK,QAAQ;oBACrB,CAAC,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC;oBAC1B,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;gBACzB,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI;YAClC,CAAC,EAAE,CAAC;SACL,CAAC;IACJ,CAAC;IAES,iCAAe,GAAzB;QACU,IAAA,KAAK,GAAK,IAAI,CAAC,cAAc,EAAE,MAA1B,CAA2B;QACxC,OAAO,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;IACnE,CAAC;IAEO,6BAAW,GAAnB;QACE,IAAM,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACtC,IAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACxC,6BACK,OAAO,KACV,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,UAAU,EACzB,KAAK,EAAE,OAAO,CAAC,KAAK,GAAG,UAAU,IACjC;IACJ,CAAC;IAES,iCAAe,GAAzB;QACE,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAC9B,IAAA,KAAsC,IAAI,CAAC,YAAY,EAArD,OAAO,aAAA,EAAkB,MAAM,oBAAsB,CAAC;QAEtD,IAAA,QAAQ,GAAK,IAAI,CAAC,YAAY,EAAE,SAAxB,CAAyB;QACzC,IAAM,KAAK,GAAG,iBAAiB,CAC7B,QAAQ,CAAC,CAAC,EACV,QAAQ,CAAC,MAAM,EACf,OAAO,EACP,MAAM,EACN,QAAQ,CACT,CAAC;QACF,IAAM,KAAK,GAAG,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;QAC/D,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC;IAChC,CAAC;IAEO,kCAAgB,GAAxB;QACE,IAAM,KAAK,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAC/B,IAAA,IAAI,GAAK,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,KAAzB,CAA0B;QAC9B,IAAA,QAAQ,GAAK,IAAI,CAAC,YAAY,EAAE,SAAxB,CAAyB;QACzC,OAAO,KAAK,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC;IACH,cAAC;AAAD,CAAC,AAtUD,CAA6B,UAAU,GAsUtC\"}"}
