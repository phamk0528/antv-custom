{"code":"import { __extends, __read } from \"tslib\";\r\nimport { inRange, isNil, range } from 'lodash';\r\nimport { getCellMeta } from \"../utils/interaction/select-event\";\r\nimport { BaseEvent } from './base-interaction';\r\nimport { InterceptType, InteractionKeyboardKey, InteractionStateName, S2Event, CellTypes, } from \"../common/constant\";\r\nimport { DataCell } from \"../cell\";\r\nimport { getRangeIndex } from \"../utils/interaction/select-event\";\r\nvar RangeSelection = /** @class */ (function (_super) {\r\n    __extends(RangeSelection, _super);\r\n    function RangeSelection() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isRangeSelection = false;\r\n        _this.handleColClick = function (event) {\r\n            event.stopPropagation();\r\n            var interaction = _this.spreadsheet.interaction;\r\n            var cell = _this.spreadsheet.getCell(event.target);\r\n            var meta = cell === null || cell === void 0 ? void 0 : cell.getMeta();\r\n            if (!isNil(meta === null || meta === void 0 ? void 0 : meta.x)) {\r\n                interaction.addIntercepts([InterceptType.HOVER]);\r\n                var selectedCells = [getCellMeta(cell)];\r\n                var lastCell = _this.spreadsheet.store.get('lastClickedCell');\r\n                // 处理shift区间多选\r\n                if (_this.isRangeSelection &&\r\n                    lastCell &&\r\n                    lastCell.cellType === cell.cellType &&\r\n                    lastCell.getMeta().level === cell.getMeta().level) {\r\n                    var _a = __read([\r\n                        _this.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,\r\n                        _this.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel,\r\n                    ], 2), rowMaxLevel = _a[0], colMaxLevel = _a[1];\r\n                    var _b = getRangeIndex(lastCell.getMeta(), cell.getMeta()), start = _b.start, end = _b.end;\r\n                    if (cell instanceof DataCell) {\r\n                        selectedCells = _this.handleSeriesNumberRowSelected(start.rowIndex, end.rowIndex, cell);\r\n                    }\r\n                    else if (cell.cellType === CellTypes.ROW_CELL &&\r\n                        cell.getMeta().level === rowMaxLevel) {\r\n                        selectedCells = _this.handleRowSelected(start.rowIndex, end.rowIndex, cell);\r\n                    }\r\n                    else if (cell.cellType === CellTypes.COL_CELL &&\r\n                        cell.getMeta().level === colMaxLevel) {\r\n                        selectedCells = _this.handleColSelected(start.colIndex, end.colIndex, cell);\r\n                    }\r\n                    // 兼容行列多选\r\n                    // Set the header cells (colCell or RowCell)  selected information and update the dataCell state.\r\n                    interaction.changeState({\r\n                        cells: selectedCells,\r\n                        stateName: InteractionStateName.SELECTED,\r\n                    });\r\n                }\r\n                else {\r\n                    _this.spreadsheet.store.set('lastClickedCell', cell);\r\n                }\r\n                var selectedCellIds = selectedCells.map(function (_a) {\r\n                    var id = _a.id;\r\n                    return id;\r\n                });\r\n                // Update the interaction state of all the selected cells:  header cells(colCell or RowCell) and dataCells belong to them.\r\n                interaction.updateCells(interaction.getRowColActiveCells(selectedCellIds));\r\n                _this.spreadsheet.emit(S2Event.GLOBAL_SELECTED, interaction.getActiveCells());\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    RangeSelection.prototype.bindEvents = function () {\r\n        this.bindKeyboardDown();\r\n        this.bindDataCellClick();\r\n        this.bindColCellClick();\r\n        this.bindKeyboardUp();\r\n    };\r\n    RangeSelection.prototype.bindKeyboardDown = function () {\r\n        var _this = this;\r\n        this.spreadsheet.on(S2Event.GLOBAL_KEYBOARD_DOWN, function (event) {\r\n            if (event.key === InteractionKeyboardKey.SHIFT) {\r\n                _this.isRangeSelection = true;\r\n                _this.spreadsheet.interaction.addIntercepts([InterceptType.CLICK]);\r\n            }\r\n        });\r\n    };\r\n    RangeSelection.prototype.bindKeyboardUp = function () {\r\n        var _this = this;\r\n        this.spreadsheet.on(S2Event.GLOBAL_KEYBOARD_UP, function (event) {\r\n            if (event.key === InteractionKeyboardKey.SHIFT) {\r\n                _this.isRangeSelection = false;\r\n                _this.spreadsheet.interaction.removeIntercepts([InterceptType.CLICK]);\r\n            }\r\n        });\r\n    };\r\n    RangeSelection.prototype.bindColCellClick = function () {\r\n        var _this = this;\r\n        if (this.spreadsheet.isTableMode()) {\r\n            // series-number click\r\n            this.spreadsheet.on(S2Event.ROW_CELL_CLICK, function (event) {\r\n                _this.handleColClick(event);\r\n            });\r\n        }\r\n        this.spreadsheet.on(S2Event.COL_CELL_CLICK, function (event) {\r\n            _this.handleColClick(event);\r\n        });\r\n    };\r\n    RangeSelection.prototype.bindDataCellClick = function () {\r\n        var _this = this;\r\n        this.spreadsheet.on(S2Event.DATA_CELL_CLICK, function (event) {\r\n            event.stopPropagation();\r\n            var cell = _this.spreadsheet.getCell(event.target);\r\n            var meta = cell.getMeta();\r\n            var interaction = _this.spreadsheet.interaction;\r\n            if (!meta) {\r\n                return;\r\n            }\r\n            var lastClickedCell = _this.spreadsheet.store.get('lastClickedCell');\r\n            var isShiftSelect = _this.isRangeSelection && (lastClickedCell === null || lastClickedCell === void 0 ? void 0 : lastClickedCell.cellType) === cell.cellType;\r\n            if (!isShiftSelect) {\r\n                _this.spreadsheet.store.set('lastClickedCell', cell);\r\n                return;\r\n            }\r\n            var _a = getRangeIndex(lastClickedCell.getMeta(), cell.getMeta()), start = _a.start, end = _a.end;\r\n            var cells = range(start.colIndex, end.colIndex + 1).flatMap(function (col) {\r\n                var cellIdSuffix = _this.spreadsheet.facet.layoutResult.colLeafNodes[col].id;\r\n                return range(start.rowIndex, end.rowIndex + 1).map(function (row) {\r\n                    var cellIdPrefix = _this.spreadsheet.facet.getSeriesNumberWidth()\r\n                        ? String(row)\r\n                        : _this.spreadsheet.facet.layoutResult.rowLeafNodes[row].id;\r\n                    return {\r\n                        id: cellIdPrefix + '-' + cellIdSuffix,\r\n                        colIndex: col,\r\n                        rowIndex: row,\r\n                        type: cell.cellType,\r\n                    };\r\n                });\r\n            });\r\n            interaction.addIntercepts([InterceptType.CLICK, InterceptType.HOVER]);\r\n            _this.spreadsheet.hideTooltip();\r\n            interaction.changeState({\r\n                cells: cells,\r\n                stateName: InteractionStateName.SELECTED,\r\n            });\r\n            _this.spreadsheet.emit(S2Event.GLOBAL_SELECTED, interaction.getActiveCells());\r\n        });\r\n    };\r\n    RangeSelection.prototype.handleSeriesNumberRowSelected = function (startIndex, endIndex, cell) {\r\n        // table模式下序列号行头\r\n        var cellIdSufFix = this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;\r\n        return range(startIndex, endIndex + 1).map(function (row) {\r\n            var cellIdPrefix = String(row);\r\n            return {\r\n                id: cellIdPrefix + '-' + cellIdSufFix,\r\n                colIndex: 0,\r\n                rowIndex: row,\r\n                type: cell.cellType,\r\n            };\r\n        });\r\n    };\r\n    RangeSelection.prototype.handleRowSelected = function (startIndex, endIndex, cell) {\r\n        // ROW_CELL类型 最后一个Level支持区间选择\r\n        return this.spreadsheet.facet.layoutResult.rowNodes\r\n            .filter(function (_a) {\r\n            var rowIndex = _a.rowIndex;\r\n            return inRange(rowIndex, startIndex, endIndex + 1);\r\n        })\r\n            .map(function (e) { return ({\r\n            id: e.id,\r\n            colIndex: e.colIndex,\r\n            rowIndex: e.rowIndex,\r\n            type: cell.cellType,\r\n        }); });\r\n    };\r\n    RangeSelection.prototype.handleColSelected = function (startIndex, endIndex, cell) {\r\n        // COL_CELL类型 最后一个Level支持区间选择\r\n        return this.spreadsheet.facet.layoutResult.colLeafNodes\r\n            .filter(function (_a) {\r\n            var colIndex = _a.colIndex;\r\n            return inRange(colIndex, startIndex, endIndex + 1);\r\n        })\r\n            .map(function (e) { return ({\r\n            id: e.id,\r\n            colIndex: e.colIndex,\r\n            rowIndex: e.rowIndex,\r\n            type: cell.cellType,\r\n        }); });\r\n    };\r\n    return RangeSelection;\r\n}(BaseEvent));\r\nexport { RangeSelection };\r\n//# sourceMappingURL=range-selection.js.map","references":["F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@types/lodash/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/interaction/select-event.ts","F:/Ismart/S2-master/packages/s2-core/src/interaction/base-interaction/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts","F:/Ismart/S2-master/packages/s2-core/src/cell/index.ts","F:/Ismart/S2-master/packages/s2-core/src/facet/layout/node.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/interaction/select-event.ts"],"map":"{\"version\":3,\"file\":\"range-selection.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/interaction/range-selection.ts\"],\"names\":[],\"mappings\":\"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\"}"}
