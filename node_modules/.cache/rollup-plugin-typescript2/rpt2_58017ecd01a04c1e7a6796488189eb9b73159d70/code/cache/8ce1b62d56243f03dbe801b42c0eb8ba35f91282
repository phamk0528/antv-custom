{"code":"import { __assign } from \"tslib\";\r\nimport { merge } from 'lodash';\r\nimport { CellBorderPosition, } from \"../../common/interface\";\r\n/**\r\n * -----------------------------\r\n * |           padding         |\r\n * |  |---------------------|  |\r\n * |  |                     |  |\r\n * |  |                     |  |\r\n * |  |---------------------|  |\r\n * |           padding         |\r\n * -----------------------------\r\n */\r\nexport var getContentArea = function (bbox, padding) {\r\n    var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\r\n    var contentWidth = width - (padding === null || padding === void 0 ? void 0 : padding.left) - (padding === null || padding === void 0 ? void 0 : padding.right);\r\n    var contentHeight = height - (padding === null || padding === void 0 ? void 0 : padding.top) - (padding === null || padding === void 0 ? void 0 : padding.bottom);\r\n    return {\r\n        x: x + (padding === null || padding === void 0 ? void 0 : padding.left),\r\n        y: y + (padding === null || padding === void 0 ? void 0 : padding.top),\r\n        width: contentWidth,\r\n        height: contentHeight,\r\n    };\r\n};\r\n/**\r\n * text 和 icon 之间布局关系：\r\n *    y轴： text 和 icon 高度上居中对齐\r\n *    x轴：\r\n *       1. text 和 icon 同为 left 或者 right 时，icon bbox 只需要简单放置在 left 或者 right 即可\r\n *       2. 其他的情况，需要根据实际 text width 确定 icon bbox 开始位置\r\n */\r\nvar normalizeIconCfg = function (iconCfg) {\r\n    return merge({\r\n        size: 0,\r\n        position: 'right',\r\n        margin: {\r\n            left: 0,\r\n            right: 0,\r\n        },\r\n    }, iconCfg);\r\n};\r\nexport var getMaxTextWidth = function (contentWidth, iconCfg) {\r\n    iconCfg = normalizeIconCfg(iconCfg);\r\n    return (contentWidth - iconCfg.size - iconCfg.margin.right - iconCfg.margin.left);\r\n};\r\nexport var getVerticalPosition = function (_a, textBaseline, size) {\r\n    var y = _a.y, height = _a.height;\r\n    if (size === void 0) { size = 0; }\r\n    var p = 0;\r\n    switch (textBaseline) {\r\n        case 'top':\r\n            p = y;\r\n            break;\r\n        case 'middle':\r\n            p = y + height / 2 - size / 2;\r\n            break;\r\n        default:\r\n            p = y + height - size;\r\n            break;\r\n    }\r\n    return p;\r\n};\r\n// 获取text及其跟随icon的位置坐标\r\nexport var getTextAndFollowingIconPosition = function (contentBox, textCfg, textWidth, iconCfg, iconCount) {\r\n    if (textWidth === void 0) { textWidth = 0; }\r\n    if (iconCount === void 0) { iconCount = 1; }\r\n    var x = contentBox.x, width = contentBox.width;\r\n    var textAlign = textCfg.textAlign, textBaseline = textCfg.textBaseline;\r\n    var _a = normalizeIconCfg(iconCfg), size = _a.size, margin = _a.margin, iconPosition = _a.position;\r\n    var iconSpace = iconCount * (size + margin.left) + (iconCount ? margin.right : 0);\r\n    var textX;\r\n    var iconX;\r\n    switch (textAlign) {\r\n        case 'left':\r\n            /**\r\n             * icon left -- text left\r\n             * ------------------------------------------------------\r\n             * | margin-left | icon | margin-right | text | padding |\r\n             * ------------------------------------------------------\r\n             *\r\n             * text left - icon right\r\n             * ------------------------------------------------------\r\n             * | text | margin-left | icon | margin-right | padding |\r\n             * ------------------------------------------------------\r\n             */\r\n            textX = x + (iconPosition === 'left' ? iconSpace : 0);\r\n            iconX =\r\n                x + (iconPosition === 'left' ? margin.left : textWidth + margin.left);\r\n            break;\r\n        case 'center': {\r\n            /**\r\n             * icon left -- text center\r\n             * ----------------------------------------------------------------\r\n             * | padding | margin-left | icon | margin-right | text | padding |\r\n             * ----------------------------------------------------------------\r\n             *\r\n             * text center - icon right\r\n             * ----------------------------------------------------------------\r\n             * | padding | text | margin-left | icon | margin-right | padding |\r\n             * ----------------------------------------------------------------\r\n             */\r\n            var totalWidth = iconSpace -\r\n                (iconPosition === 'left' ? margin.left : margin.right) +\r\n                textWidth;\r\n            var startX = x + width / 2 - totalWidth / 2;\r\n            textX =\r\n                startX +\r\n                    textWidth / 2 +\r\n                    (iconPosition === 'left' ? iconSpace - margin.left : 0);\r\n            iconX = startX + (iconPosition === 'left' ? 0 : textWidth + margin.left);\r\n            break;\r\n        }\r\n        default: {\r\n            /**\r\n             * icon left -- text right\r\n             * ------------------------------------------------------\r\n             * | padding | margin-left | icon | margin-right | text |\r\n             * ------------------------------------------------------\r\n             *\r\n             * text right - icon right\r\n             * ------------------------------------------------------\r\n             * | padding | text | margin-left | icon | margin-right |\r\n             * ------------------------------------------------------\r\n             */\r\n            textX = x + width - (iconPosition === 'right' ? iconSpace : 0);\r\n            iconX =\r\n                x +\r\n                    width -\r\n                    (iconPosition === 'right'\r\n                        ? iconSpace - margin.left\r\n                        : textWidth + iconSpace - margin.left);\r\n            break;\r\n        }\r\n    }\r\n    var textY = getVerticalPosition(contentBox, textBaseline, 0);\r\n    var iconY = getVerticalPosition(contentBox, textBaseline, size);\r\n    return {\r\n        text: { x: textX, y: textY },\r\n        icon: { x: iconX, y: iconY },\r\n    };\r\n};\r\nexport var getTextPosition = function (contentBox, textCfg) { return getTextAndFollowingIconPosition(contentBox, textCfg).text; };\r\n/**\r\n * 在给定视窗和单元格的情况下，计算单元格文字实际绘制位置\r\n * 计算遵循原则：\r\n * 1. 若可视范围小，尽可能多展示文字\r\n * 2. 若可视范围大，居中展示文字\r\n * @param viewport 视窗坐标信息\r\n * @param content content 列头单元格 content 区域坐标信息\r\n * @param textWidth 文字实际绘制区域宽度（含icon）\r\n * @returns 文字绘制位置\r\n */\r\nexport var getTextAreaRange = function (viewport, content, textWidth) {\r\n    var contentEnd = content.start + content.width;\r\n    var viewportEnd = viewport.start + viewport.width;\r\n    var position;\r\n    var availableContentWidth;\r\n    if (content.start <= viewport.start && contentEnd >= viewportEnd) {\r\n        /**\r\n         *     +----------------------+\r\n         *     |      viewport        |\r\n         *  +--|----------------------|--+\r\n         *  |  |    cellContent       |  |\r\n         *  +--|----------------------|--+\r\n         *     +----------------------+\r\n         */\r\n        position = viewport.start + viewport.width / 2;\r\n        availableContentWidth = viewport.width;\r\n    }\r\n    else if (content.start <= viewport.start) {\r\n        /**\r\n         *         +-------------------+\r\n         *  +------|------+            |\r\n         *  | cellContent |   viewport |\r\n         *  +------|------+            |\r\n         *         +-------------------+\r\n         */\r\n        var restWidth = content.width - (viewport.start - content.start);\r\n        position =\r\n            restWidth < textWidth\r\n                ? contentEnd - textWidth / 2\r\n                : contentEnd - restWidth / 2;\r\n        availableContentWidth = restWidth;\r\n    }\r\n    else if (contentEnd >= viewportEnd) {\r\n        /**\r\n         *   +-------------------+\r\n         *   |            +------|------+\r\n         *   | viewport   | cellContent |\r\n         *   |            +------|------+\r\n         *   +-------------------+\r\n         */\r\n        var restWidth = content.width - (contentEnd - viewportEnd);\r\n        position =\r\n            restWidth < textWidth\r\n                ? content.start + textWidth / 2\r\n                : content.start + restWidth / 2;\r\n        availableContentWidth = restWidth;\r\n    }\r\n    else {\r\n        /**\r\n         *   +----------------------------+\r\n         *   |  +-------------+           |\r\n         *   |  | cellContent |  viewport |\r\n         *   |  +-------------+           |\r\n         *   +----------------------------+\r\n         */\r\n        position = content.start + content.width / 2;\r\n        availableContentWidth = content.width;\r\n    }\r\n    return { start: position, width: availableContentWidth };\r\n};\r\nexport var getBorderPositionAndStyle = function (position, contentBox, style) {\r\n    var x = contentBox.x, y = contentBox.y, width = contentBox.width, height = contentBox.height;\r\n    var horizontalBorderWidth = style.horizontalBorderWidth, horizontalBorderColorOpacity = style.horizontalBorderColorOpacity, horizontalBorderColor = style.horizontalBorderColor, verticalBorderWidth = style.verticalBorderWidth, verticalBorderColor = style.verticalBorderColor, verticalBorderColorOpacity = style.verticalBorderColorOpacity;\r\n    var x1;\r\n    var y1;\r\n    var x2;\r\n    var y2;\r\n    var borderStyle;\r\n    // horizontal\r\n    if (position === CellBorderPosition.TOP ||\r\n        position === CellBorderPosition.BOTTOM) {\r\n        var yPosition = y;\r\n        if (position === CellBorderPosition.TOP) {\r\n            // 完全绘制在 Cell 内，否则会导致 Border 粗细不一： https://github.com/antvis/S2/issues/426\r\n            yPosition = y + verticalBorderWidth / 2;\r\n        }\r\n        else {\r\n            yPosition = y + height - verticalBorderWidth / 2;\r\n        }\r\n        y1 = yPosition;\r\n        y2 = yPosition;\r\n        x1 = x;\r\n        x2 = x + width;\r\n        borderStyle = {\r\n            lineWidth: horizontalBorderWidth,\r\n            stroke: horizontalBorderColor,\r\n            strokeOpacity: horizontalBorderColorOpacity,\r\n        };\r\n    }\r\n    // vertical\r\n    if (position === CellBorderPosition.LEFT ||\r\n        position === CellBorderPosition.RIGHT) {\r\n        var xPosition = x;\r\n        if (position === CellBorderPosition.LEFT) {\r\n            xPosition = x + horizontalBorderWidth / 2;\r\n        }\r\n        else {\r\n            xPosition = x + width - horizontalBorderWidth / 2;\r\n        }\r\n        x1 = xPosition;\r\n        x2 = xPosition;\r\n        y1 = y;\r\n        y2 = y + height;\r\n        borderStyle = {\r\n            lineWidth: verticalBorderWidth,\r\n            stroke: verticalBorderColor,\r\n            strokeOpacity: verticalBorderColorOpacity,\r\n        };\r\n    }\r\n    return {\r\n        position: {\r\n            x1: x1,\r\n            x2: x2,\r\n            y1: y1,\r\n            y2: y2,\r\n        },\r\n        style: borderStyle,\r\n    };\r\n};\r\n/**\r\n * 根据单元格文字样式调整 viewport range，使文字在滚动时不会贴边展示\r\n *\r\n * 以 textAlign=left 情况为例，由大到小的矩形分别是 viewport、cellContent、cellText\r\n * 左图是未调整前，滚动相交判定在 viewport 最左侧，即 colCell 滚动到 viewport 左侧后，文字会贴左边绘制\r\n * 右图是调整后，range.start 提前了 padding.left 个元素，文字与 viewport 有一定间隙更加美观\r\n *\r\n *    range.start                                   range.start\r\n *         |                                             |\r\n *         |      range.width                            |  range.width\r\n *         v<---------------------->                     v<------------------>\r\n *\r\n *         +-----------------------+                 +-----------------------+\r\n *         |       viewport        |                 |       viewport        |\r\n *     +-------------------+       |             +-------------------+       |\r\n *     |   +---------+     |       |             |   |   +---------+ |       |\r\n *     |   |  text   |     |       |             |   |   |  text   | |       |\r\n *     |   +---------+     |       |             |   |   +---------+ |       |\r\n *     +-------------------+       |             +-------------------+       |\r\n *         +-----------------------+                 +-----------------------+\r\n *\r\n *                                                   <-->\r\n *                                                padding.left\r\n *\r\n * @param viewport 原始 viewport\r\n * @param textAlign 文字样式\r\n * @param textPadding 单元格 padding 样式\r\n * @returns viewport range\r\n */\r\nexport var adjustColHeaderScrollingViewport = function (viewport, textAlign, textPadding) {\r\n    if (textPadding === void 0) { textPadding = { left: 0, right: 0 }; }\r\n    var nextViewport = __assign({}, viewport);\r\n    if (textAlign === 'left') {\r\n        nextViewport.start += textPadding.left;\r\n        nextViewport.width -= textPadding.left;\r\n    }\r\n    else if (textAlign === 'right') {\r\n        nextViewport.width -= textPadding.right;\r\n    }\r\n    return nextViewport;\r\n};\r\n/**\r\n * 根据文字样式调整绘制的起始点（底层g始终使用 center 样式绘制）\r\n * @param startX\r\n * @param restWidth\r\n * @param textAlign\r\n * @returns\r\n */\r\nexport var adjustColHeaderScrollingTextPostion = function (startX, restWidth, textAlign) {\r\n    if (restWidth <= 0) {\r\n        // 没有足够的空间用于调整\r\n        return startX;\r\n    }\r\n    switch (textAlign) {\r\n        case 'left':\r\n            return startX - restWidth / 2;\r\n        case 'right':\r\n            return startX + restWidth / 2;\r\n        case 'center':\r\n        default:\r\n            return startX;\r\n    }\r\n};\r\n//# sourceMappingURL=cell.js.map","references":["F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@types/lodash/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/scroll.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts"],"map":"{\"version\":3,\"file\":\"cell.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/utils/cell/cell.ts\"],\"names\":[],\"mappings\":\"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\"}"}
