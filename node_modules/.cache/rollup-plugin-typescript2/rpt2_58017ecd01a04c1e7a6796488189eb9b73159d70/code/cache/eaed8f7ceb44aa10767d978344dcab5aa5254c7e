{"code":"import { TotalClass } from \"../../facet/layout/total-class\";\r\nimport { EXTRA_FIELD } from \"../../common/constant\";\r\nexport var addTotals = function (params) {\r\n    var _a;\r\n    var isFirstField = params.isFirstField, currentField = params.currentField, fieldValues = params.fieldValues, spreadsheet = params.spreadsheet, lastField = params.lastField;\r\n    var totalsConfig = spreadsheet.getTotalsConfig(isFirstField ? currentField : lastField);\r\n    var action;\r\n    var totalValue;\r\n    if (isFirstField) {\r\n        // check to see if grand total is added\r\n        if (totalsConfig === null || totalsConfig === void 0 ? void 0 : totalsConfig.showGrandTotals) {\r\n            action = totalsConfig.reverseLayout ? 'unshift' : 'push';\r\n            totalValue = new TotalClass(totalsConfig.label, false, true);\r\n        }\r\n    }\r\n    else if ((totalsConfig === null || totalsConfig === void 0 ? void 0 : totalsConfig.showSubTotals) && currentField !== EXTRA_FIELD) {\r\n        action = totalsConfig.reverseSubLayout ? 'unshift' : 'push';\r\n        totalValue = new TotalClass(totalsConfig.subLabel, true);\r\n    }\r\n    (_a = fieldValues[action]) === null || _a === void 0 ? void 0 : _a.call(fieldValues, totalValue);\r\n};\r\n//# sourceMappingURL=add-totals.js.map","references":["F:/Ismart/S2-master/packages/s2-core/src/facet/layout/interface.ts","F:/Ismart/S2-master/packages/s2-core/src/facet/layout/total-class.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts"],"map":"{\"version\":3,\"file\":\"add-totals.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/utils/layout/add-totals.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,UAAU,EAAE,uCAAmC;AACxD,OAAO,EAAE,WAAW,EAAE,8BAA0B;AAEhD,MAAM,CAAC,IAAM,SAAS,GAAG,UAAC,MAAmB;;IACnC,IAAA,YAAY,GAClB,MAAM,aADY,EAAE,YAAY,GAChC,MAAM,aAD0B,EAAE,WAAW,GAC7C,MAAM,YADuC,EAAE,WAAW,GAC1D,MAAM,YADoD,EAAE,SAAS,GACrE,MAAM,UAD+D,CAC9D;IACT,IAAM,YAAY,GAAG,WAAW,CAAC,eAAe,CAC9C,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CACxC,CAAC;IACF,IAAI,MAA0B,CAAC;IAC/B,IAAI,UAAsB,CAAC;IAC3B,IAAI,YAAY,EAAE;QAChB,uCAAuC;QACvC,IAAI,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,eAAe,EAAE;YACjC,MAAM,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC;YACzD,UAAU,GAAG,IAAI,UAAU,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;SAC9D;KACF;SAAM,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,aAAa,KAAI,YAAY,KAAK,WAAW,EAAE;QACtE,MAAM,GAAG,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC;QAC5D,UAAU,GAAG,IAAI,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;KAC1D;IAED,MAAA,WAAW,CAAC,MAAM,CAAC,4DAAG,UAAU,CAAC,CAAC;AACpC,CAAC,CAAC\"}"}
