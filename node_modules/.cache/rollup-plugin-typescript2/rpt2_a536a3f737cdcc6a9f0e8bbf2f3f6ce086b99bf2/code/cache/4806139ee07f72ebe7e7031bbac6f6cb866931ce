{"code":"import { __extends } from \"tslib\";\r\nimport { BaseBBox } from './baseBBox';\r\nvar PanelBBox = /** @class */ (function (_super) {\r\n    __extends(PanelBBox, _super);\r\n    function PanelBBox() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    PanelBBox.prototype.calculateBBox = function () {\r\n        this.originalWidth = this.facet.getRealWidth();\r\n        this.originalHeight = this.facet.getRealHeight();\r\n        var cornerBBox = this.facet.cornerBBox;\r\n        var cornerPosition = {\r\n            x: Math.floor(cornerBBox.maxX),\r\n            y: Math.floor(cornerBBox.maxY),\r\n        };\r\n        var scrollBarSize = this.spreadsheet.theme.scrollBar.size;\r\n        var _a = this.spreadsheet.options, canvasWidth = _a.width, canvasHeight = _a.height;\r\n        var panelWidth = Math.max(0, canvasWidth - cornerPosition.x);\r\n        var panelHeight = Math.max(0, canvasHeight - cornerPosition.y - scrollBarSize);\r\n        this.x = cornerPosition.x;\r\n        this.y = cornerPosition.y;\r\n        this.width = panelWidth;\r\n        this.height = panelHeight;\r\n        this.viewportHeight = Math.abs(Math.floor(Math.min(panelHeight, this.originalHeight)));\r\n        this.viewportWidth = Math.abs(Math.floor(Math.min(panelWidth, this.originalWidth)));\r\n        this.maxX = cornerPosition.x + this.viewportWidth;\r\n        this.maxY = cornerPosition.y + this.viewportHeight;\r\n        this.minX = cornerPosition.x;\r\n        this.minY = cornerPosition.y;\r\n        var _b = this.spreadsheet.options, frozenTrailingColCount = _b.frozenTrailingColCount, frozenTrailingRowCount = _b.frozenTrailingRowCount;\r\n        if (frozenTrailingColCount > 0) {\r\n            this.viewportWidth = this.width;\r\n            this.maxX = cornerPosition.x + this.width;\r\n        }\r\n        if (frozenTrailingRowCount > 0) {\r\n            this.viewportHeight = this.height;\r\n            this.maxY = cornerPosition.y + this.height;\r\n        }\r\n    };\r\n    return PanelBBox;\r\n}(BaseBBox));\r\nexport { PanelBBox };\r\n//# sourceMappingURL=panelBBox.js.map","references":["F:/Ismart/S2-master/packages/s2-core/src/facet/bbox/baseBBox.ts"],"map":"{\"version\":3,\"file\":\"panelBBox.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/facet/bbox/panelBBox.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC;IAA+B,6BAAQ;IAAvC;;IA+CA,CAAC;IA9CC,iCAAa,GAAb;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAEzC,IAAA,UAAU,GAAK,IAAI,CAAC,KAAK,WAAf,CAAgB;QAClC,IAAM,cAAc,GAAG;YACrB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC;YAC9B,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC;SAC/B,CAAC;QAEF,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC;QACtD,IAAA,KACJ,IAAI,CAAC,WAAW,CAAC,OAAO,EADX,WAAW,WAAA,EAAU,YAAY,YACtB,CAAC;QAE3B,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAC1B,CAAC,EACD,YAAY,GAAG,cAAc,CAAC,CAAC,GAAG,aAAa,CAChD,CAAC;QAEF,IAAI,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;QACxB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;QAC1B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CACvD,CAAC;QACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CACrD,CAAC;QACF,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC;QAClD,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;QACnD,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,CAAC;QAEvB,IAAA,KACJ,IAAI,CAAC,WAAW,CAAC,OAAO,EADlB,sBAAsB,4BAAA,EAAE,sBAAsB,4BAC5B,CAAC;QAC3B,IAAI,sBAAsB,GAAG,CAAC,EAAE;YAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;YAChC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3C;QACD,IAAI,sBAAsB,GAAG,CAAC,EAAE;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;SAC5C;IACH,CAAC;IACH,gBAAC;AAAD,CAAC,AA/CD,CAA+B,QAAQ,GA+CtC\"}","dts":{"name":"F:/Ismart/S2-master/packages/s2-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/facet/bbox/panelBBox.d.ts","writeByteOrderMark":false,"text":"import { BaseBBox } from './baseBBox';\r\nexport declare class PanelBBox extends BaseBBox {\r\n    calculateBBox(): void;\r\n}\r\n"}}
