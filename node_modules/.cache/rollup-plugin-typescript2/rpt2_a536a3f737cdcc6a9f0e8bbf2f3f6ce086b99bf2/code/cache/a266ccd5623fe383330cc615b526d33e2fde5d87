{"code":"import { get, find } from 'lodash';\r\nimport { CellTypes } from \"../../common/constant\";\r\nimport { shouldShowActionIcons } from './header-cell';\r\nexport var getTableColIconsWidth = function (ss, meta, cellType, iconStyle) {\r\n    var _a, _b;\r\n    var iconSize = get(iconStyle, 'size');\r\n    var iconMargin = get(iconStyle, 'margin');\r\n    var iconNums = 0;\r\n    if (ss.options.showDefaultHeaderActionIcon) {\r\n        iconNums = 1;\r\n    }\r\n    else {\r\n        iconNums = ((_b = (_a = find(ss.options.headerActionIcons, function (headerActionIcon) {\r\n            return shouldShowActionIcons(headerActionIcon, meta, cellType);\r\n        })) === null || _a === void 0 ? void 0 : _a.iconNames) !== null && _b !== void 0 ? _b : []).length;\r\n    }\r\n    return (iconNums * (iconSize + iconMargin.left) +\r\n        (iconNums > 0 ? iconMargin.right : 0));\r\n};\r\nexport var getExtraPaddingForExpandIcon = function (ss, field, style) {\r\n    var _a, _b;\r\n    var iconMarginLeft = ((_a = style.icon.margin) === null || _a === void 0 ? void 0 : _a.left) || 0;\r\n    var iconMarginRight = ((_b = style.icon.margin) === null || _b === void 0 ? void 0 : _b.right) || 0;\r\n    var hiddenColumnsDetail = ss.store.get('hiddenColumnsDetail', []);\r\n    var hasPrevSiblingCell = false;\r\n    var hasNextSiblingCell = false;\r\n    hiddenColumnsDetail.forEach(function (column) {\r\n        var _a, _b, _c, _d;\r\n        if (((_b = (_a = column === null || column === void 0 ? void 0 : column.displaySiblingNode) === null || _a === void 0 ? void 0 : _a.prev) === null || _b === void 0 ? void 0 : _b.field) === field) {\r\n            hasPrevSiblingCell = true;\r\n        }\r\n        if (((_d = (_c = column === null || column === void 0 ? void 0 : column.displaySiblingNode) === null || _c === void 0 ? void 0 : _c.next) === null || _d === void 0 ? void 0 : _d.field) === field) {\r\n            hasNextSiblingCell = true;\r\n        }\r\n    });\r\n    var iconSize = get(style, 'icon.size');\r\n    // 图标本身宽度 + 主题配置的 icon margin\r\n    return {\r\n        left: hasNextSiblingCell ? iconSize + iconMarginRight : 0,\r\n        right: hasPrevSiblingCell ? iconSize + iconMarginLeft : 0,\r\n    };\r\n};\r\nexport var getOccupiedWidthForTableCol = function (s2, meta, style) {\r\n    var padding = get(style, 'cell.padding');\r\n    var expandIconPadding = getExtraPaddingForExpandIcon(s2, meta.field, style);\r\n    return (padding.left +\r\n        padding.right +\r\n        getTableColIconsWidth(s2, meta, CellTypes.COL_CELL, get(style, 'icon')) +\r\n        expandIconPadding.left +\r\n        expandIconPadding.right);\r\n};\r\n//# sourceMappingURL=table-col-cell.js.map","references":["F:/Ismart/S2-master/packages/s2-core/src/facet/layout/node.ts","F:/Ismart/S2-master/node_modules/@types/lodash/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/theme.ts","F:/Ismart/S2-master/packages/s2-core/src/sheet-type/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/basic.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/cell/header-cell.ts"],"map":"{\"version\":3,\"file\":\"table-col-cell.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/utils/cell/table-col-cell.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"F:/Ismart/S2-master/packages/s2-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/utils/cell/table-col-cell.d.ts","writeByteOrderMark":false,"text":"import { Node } from \"../../facet/layout/node\";\r\nimport { CellTypes } from \"../../common/constant\";\r\nimport { DefaultCellTheme, IconTheme } from \"../../common/interface/theme\";\r\nimport { SpreadSheet } from \"../../sheet-type\";\r\nexport declare const getTableColIconsWidth: (ss: SpreadSheet, meta: Node, cellType: CellTypes, iconStyle: IconTheme) => number;\r\nexport declare const getExtraPaddingForExpandIcon: (ss: SpreadSheet, field: string, style: DefaultCellTheme) => {\r\n    left: any;\r\n    right: any;\r\n};\r\nexport declare const getOccupiedWidthForTableCol: (s2: SpreadSheet, meta: Node, style: DefaultCellTheme) => any;\r\n"}}
