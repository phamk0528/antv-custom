{"code":"import { __assign, __extends, __read, __spreadArray } from \"tslib\";\r\nimport EE from '@antv/event-emitter';\r\nimport { Canvas } from '@antv/g-canvas';\r\nimport { clone, forEach, forIn, get, includes, isEmpty, isFunction, isString, once, } from 'lodash';\r\nimport { hideColumnsByThunkGroup } from \"../utils/hide-columns\";\r\nimport { BaseCell } from \"../cell\";\r\nimport { BACK_GROUND_GROUP_CONTAINER_Z_INDEX, FRONT_GROUND_GROUP_CONTAINER_Z_INDEX, KEY_GROUP_BACK_GROUND, KEY_GROUP_FORE_GROUND, KEY_GROUP_PANEL_GROUND, KEY_GROUP_PANEL_SCROLL, MIN_DEVICE_PIXEL_RATIO, PANEL_GROUP_GROUP_CONTAINER_Z_INDEX, PANEL_GROUP_SCROLL_GROUP_Z_INDEX, S2Event, } from \"../common/constant\";\r\nimport { DebuggerUtil } from \"../common/debug\";\r\nimport { i18n } from \"../common/i18n\";\r\nimport { Store } from \"../common/store\";\r\nimport { RootInteraction } from \"../interaction/root\";\r\nimport { getTheme } from \"../theme\";\r\nimport { HdAdapter } from \"../ui/hd-adapter\";\r\nimport { BaseTooltip } from \"../ui/tooltip\";\r\nimport { clearValueRangeState } from \"../utils/condition/state-controller\";\r\nimport { customMerge } from \"../utils/merge\";\r\nimport { getTooltipData, getTooltipOptions } from \"../utils/tooltip\";\r\nimport { registerIcon } from \"../common/icons/factory\";\r\nimport { getSafetyDataConfig, getSafetyOptions } from \"../utils/merge\";\r\nvar SpreadSheet = /** @class */ (function (_super) {\r\n    __extends(SpreadSheet, _super);\r\n    function SpreadSheet(dom, dataCfg, options) {\r\n        var _this = _super.call(this) || this;\r\n        // store some temporary data\r\n        _this.store = new Store();\r\n        _this.untypedOn = _this.on;\r\n        _this.untypedEmit = _this.emit;\r\n        _this.on = function (event, listener) { return _this.untypedOn(event, listener); };\r\n        _this.emit = function (event) {\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            return _this.untypedEmit.apply(_this, __spreadArray([event], __read(args), false));\r\n        };\r\n        // 初次渲染时, 如果配置了隐藏列, 则生成一次相关配置信息\r\n        _this.initHiddenColumnsDetail = once(function () {\r\n            var hiddenColumnFields = _this.options.interaction.hiddenColumnFields;\r\n            if (isEmpty(hiddenColumnFields)) {\r\n                return;\r\n            }\r\n            hideColumnsByThunkGroup(_this, hiddenColumnFields, true);\r\n        });\r\n        _this.dataCfg = getSafetyDataConfig(dataCfg);\r\n        _this.options = getSafetyOptions(options);\r\n        _this.dataSet = _this.getDataSet(_this.options);\r\n        _this.initTooltip();\r\n        _this.initGroups(dom);\r\n        _this.bindEvents();\r\n        _this.initInteraction();\r\n        _this.initTheme();\r\n        _this.initHdAdapter();\r\n        _this.registerIcons();\r\n        _this.setDebug();\r\n        return _this;\r\n    }\r\n    SpreadSheet.prototype.setDebug = function () {\r\n        DebuggerUtil.getInstance().setDebug(this.options.debug);\r\n    };\r\n    SpreadSheet.prototype.initTheme = function () {\r\n        // When calling spreadsheet directly, there is no theme and initialization is required\r\n        this.setThemeCfg({\r\n            name: 'default',\r\n        });\r\n    };\r\n    SpreadSheet.prototype.getMountContainer = function (dom) {\r\n        var mountContainer = isString(dom) ? document.querySelector(dom) : dom;\r\n        if (!mountContainer) {\r\n            throw new Error('Target mount container is not a DOM element');\r\n        }\r\n        return mountContainer;\r\n    };\r\n    SpreadSheet.prototype.initHdAdapter = function () {\r\n        if (this.options.hdAdapter) {\r\n            this.hdAdapter = new HdAdapter(this);\r\n            this.hdAdapter.init();\r\n        }\r\n    };\r\n    SpreadSheet.prototype.initInteraction = function () {\r\n        this.interaction = new RootInteraction(this);\r\n    };\r\n    SpreadSheet.prototype.initTooltip = function () {\r\n        var _a, _b;\r\n        this.tooltip = this.renderTooltip();\r\n        if (!(this.tooltip instanceof BaseTooltip)) {\r\n            // eslint-disable-next-line no-console\r\n            console.warn(\"[Custom Tooltip]: \".concat((_b = (_a = this.tooltip) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.toString(), \" should be extends from BaseTooltip\"));\r\n        }\r\n    };\r\n    SpreadSheet.prototype.renderTooltip = function () {\r\n        var _a, _b;\r\n        return ((_b = (_a = this.options.tooltip) === null || _a === void 0 ? void 0 : _a.renderTooltip) === null || _b === void 0 ? void 0 : _b.call(_a, this)) || new BaseTooltip(this);\r\n    };\r\n    SpreadSheet.prototype.showTooltip = function (showOptions) {\r\n        var _a, _b;\r\n        var content = showOptions.content, event = showOptions.event;\r\n        var cell = this.getCell(event === null || event === void 0 ? void 0 : event.target);\r\n        var displayContent = isFunction(content)\r\n            ? content(cell, showOptions)\r\n            : content;\r\n        (_b = (_a = this.tooltip).show) === null || _b === void 0 ? void 0 : _b.call(_a, __assign(__assign({}, showOptions), { content: displayContent }));\r\n    };\r\n    SpreadSheet.prototype.showTooltipWithInfo = function (event, data, options) {\r\n        var _a = getTooltipOptions(this, event), showTooltip = _a.showTooltip, content = _a.content;\r\n        if (!showTooltip) {\r\n            return;\r\n        }\r\n        var tooltipData = getTooltipData({\r\n            spreadsheet: this,\r\n            cellInfos: data,\r\n            options: __assign({ enableFormat: true }, options),\r\n        });\r\n        this.showTooltip({\r\n            data: tooltipData,\r\n            position: {\r\n                x: event.clientX,\r\n                y: event.clientY,\r\n            },\r\n            options: __assign({ enterable: true }, options),\r\n            event: event,\r\n            content: content,\r\n        });\r\n    };\r\n    SpreadSheet.prototype.hideTooltip = function () {\r\n        var _a, _b;\r\n        (_b = (_a = this.tooltip).hide) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n    };\r\n    SpreadSheet.prototype.destroyTooltip = function () {\r\n        var _a, _b;\r\n        (_b = (_a = this.tooltip).destroy) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n    };\r\n    SpreadSheet.prototype.registerIcons = function () {\r\n        var customSVGIcons = this.options.customSVGIcons;\r\n        if (isEmpty(customSVGIcons)) {\r\n            return;\r\n        }\r\n        forEach(customSVGIcons, function (customSVGIcon) {\r\n            registerIcon(customSVGIcon.name, customSVGIcon.svg);\r\n        });\r\n    };\r\n    /**\r\n     * Update data config and keep pre-sort operations\r\n     * Group sort params kept in {@see store} and\r\n     * Priority: group sort > advanced sort\r\n     * @param dataCfg\r\n     */\r\n    SpreadSheet.prototype.setDataCfg = function (dataCfg) {\r\n        this.store.set('originalDataCfg', dataCfg);\r\n        var newDataCfg = clone(dataCfg);\r\n        this.dataCfg = getSafetyDataConfig(newDataCfg);\r\n        // clear value ranger after each updated data cfg\r\n        clearValueRangeState(this);\r\n    };\r\n    SpreadSheet.prototype.setOptions = function (options) {\r\n        this.hideTooltip();\r\n        this.options = customMerge(this.options, options);\r\n        this.registerIcons();\r\n    };\r\n    SpreadSheet.prototype.render = function (reloadData, reBuildDataSet) {\r\n        if (reloadData === void 0) { reloadData = true; }\r\n        if (reBuildDataSet === void 0) { reBuildDataSet = false; }\r\n        this.emit(S2Event.LAYOUT_BEFORE_RENDER);\r\n        if (reBuildDataSet) {\r\n            this.dataSet = this.getDataSet(this.options);\r\n        }\r\n        if (reloadData) {\r\n            this.clearDrillDownData('', true);\r\n            this.dataSet.setDataCfg(this.dataCfg);\r\n        }\r\n        this.buildFacet();\r\n        this.initHiddenColumnsDetail();\r\n        this.emit(S2Event.LAYOUT_AFTER_RENDER);\r\n    };\r\n    SpreadSheet.prototype.destroy = function () {\r\n        var _a, _b, _c, _d, _e;\r\n        this.emit(S2Event.LAYOUT_DESTROY);\r\n        (_a = this.facet) === null || _a === void 0 ? void 0 : _a.destroy();\r\n        (_b = this.hdAdapter) === null || _b === void 0 ? void 0 : _b.destroy();\r\n        (_c = this.interaction) === null || _c === void 0 ? void 0 : _c.destroy();\r\n        (_d = this.store) === null || _d === void 0 ? void 0 : _d.clear();\r\n        this.destroyTooltip();\r\n        this.clearCanvasEvent();\r\n        (_e = this.container) === null || _e === void 0 ? void 0 : _e.destroy();\r\n    };\r\n    /**\r\n     * Update theme config, if the {@param type} is exists, re-use it,\r\n     * otherwise create new one {@see theme}\r\n     * @param type string\r\n     * @param theme\r\n     */\r\n    SpreadSheet.prototype.setThemeCfg = function (themeCfg) {\r\n        var theme = (themeCfg === null || themeCfg === void 0 ? void 0 : themeCfg.theme) || {};\r\n        this.theme = customMerge(getTheme(__assign(__assign({}, themeCfg), { spreadsheet: this })), theme);\r\n    };\r\n    /**\r\n     * Update pagination config which store in {@see options}\r\n     * @param pagination\r\n     */\r\n    SpreadSheet.prototype.updatePagination = function (pagination) {\r\n        this.options = customMerge(this.options, {\r\n            pagination: pagination,\r\n        });\r\n        // 清空滚动进度\r\n        this.store.set('scrollX', 0);\r\n        this.store.set('scrollY', 0);\r\n    };\r\n    /**\r\n     * 获取当前表格实际内容高度\r\n     */\r\n    SpreadSheet.prototype.getContentHeight = function () {\r\n        return this.facet.getContentHeight();\r\n    };\r\n    /**\r\n     * @param width\r\n     * @param height\r\n     * @deprecated 该方法将会在2.0被移除, 请使用 changeSheetSize 代替\r\n     */\r\n    SpreadSheet.prototype.changeSize = function (width, height) {\r\n        if (width === void 0) { width = this.options.width; }\r\n        if (height === void 0) { height = this.options.height; }\r\n        this.changeSheetSize(width, height);\r\n    };\r\n    /**\r\n     * 修改表格画布大小，不用重新加载数据\r\n     * @param width\r\n     * @param height\r\n     */\r\n    SpreadSheet.prototype.changeSheetSize = function (width, height) {\r\n        if (width === void 0) { width = this.options.width; }\r\n        if (height === void 0) { height = this.options.height; }\r\n        var containerWidth = this.container.get('width');\r\n        var containerHeight = this.container.get('height');\r\n        var isSizeChanged = width !== containerWidth || height !== containerHeight;\r\n        if (!isSizeChanged) {\r\n            return;\r\n        }\r\n        this.options = customMerge(this.options, { width: width, height: height });\r\n        // resize the canvas\r\n        this.container.changeSize(width, height);\r\n    };\r\n    SpreadSheet.prototype.getLayoutWidthType = function () {\r\n        return this.options.style.layoutWidthType;\r\n    };\r\n    SpreadSheet.prototype.getRowNodes = function (level) {\r\n        if (level === void 0) { level = -1; }\r\n        if (level === -1) {\r\n            return this.facet.layoutResult.rowNodes;\r\n        }\r\n        return this.facet.layoutResult.rowNodes.filter(function (node) { return node.level === level; });\r\n    };\r\n    /**\r\n     * get columnNode in levels,\r\n     * @param level -1 = get all\r\n     */\r\n    SpreadSheet.prototype.getColumnNodes = function (level) {\r\n        var _a;\r\n        if (level === void 0) { level = -1; }\r\n        var colNodes = ((_a = this.facet) === null || _a === void 0 ? void 0 : _a.layoutResult.colNodes) || [];\r\n        if (level === -1) {\r\n            return colNodes;\r\n        }\r\n        return colNodes.filter(function (node) { return node.level === level; });\r\n    };\r\n    SpreadSheet.prototype.getColumnLeafNodes = function () {\r\n        return this.getColumnNodes().filter(function (node) { return node.isLeaf; });\r\n    };\r\n    /**\r\n     * Update scroll's offset, the value can be undefined,\r\n     * indicate not update current value\r\n     * @param offsetConfig\r\n     * default offsetX(horizontal scroll need animation)\r\n     * but offsetY(vertical scroll don't need animation)\r\n     */\r\n    SpreadSheet.prototype.updateScrollOffset = function (offsetConfig) {\r\n        this.facet.updateScrollOffset(customMerge({\r\n            offsetX: {\r\n                value: undefined,\r\n                animate: false,\r\n            },\r\n            offsetY: {\r\n                value: undefined,\r\n                animate: false,\r\n            },\r\n        }, offsetConfig));\r\n    };\r\n    SpreadSheet.prototype.getTooltipDataItemMappingCallback = function () {\r\n        var _a;\r\n        return (_a = this.options) === null || _a === void 0 ? void 0 : _a.mappingDisplayDataItem;\r\n    };\r\n    // 获取当前cell实例\r\n    SpreadSheet.prototype.getCell = function (target) {\r\n        var _a;\r\n        var parent = target;\r\n        // 一直索引到g顶层的canvas来检查是否在指定的cell中\r\n        while (parent && !(parent instanceof Canvas)) {\r\n            if (parent instanceof BaseCell) {\r\n                // 在单元格中，返回true\r\n                return parent;\r\n            }\r\n            parent = (_a = parent.get) === null || _a === void 0 ? void 0 : _a.call(parent, 'parent');\r\n        }\r\n        return null;\r\n    };\r\n    // 获取当前cell类型\r\n    SpreadSheet.prototype.getCellType = function (target) {\r\n        var cell = this.getCell(target);\r\n        return cell === null || cell === void 0 ? void 0 : cell.cellType;\r\n    };\r\n    /**\r\n     * get total's config by dimension id\r\n     * @param dimension unique dimension id\r\n     */\r\n    SpreadSheet.prototype.getTotalsConfig = function (dimension) {\r\n        var totals = this.options.totals;\r\n        var rows = this.dataCfg.fields.rows;\r\n        var totalConfig = get(totals, includes(rows, dimension) ? 'row' : 'col', {});\r\n        var showSubTotals = totalConfig.showSubTotals\r\n            ? includes(totalConfig.subTotalsDimensions, dimension)\r\n            : false;\r\n        return {\r\n            showSubTotals: showSubTotals,\r\n            showGrandTotals: totalConfig.showGrandTotals,\r\n            reverseLayout: totalConfig.reverseLayout,\r\n            reverseSubLayout: totalConfig.reverseSubLayout,\r\n            label: totalConfig.label || i18n('总计'),\r\n            subLabel: totalConfig.subLabel || i18n('小计'),\r\n        };\r\n    };\r\n    /**\r\n     * Create all related groups, contains:\r\n     * 1. container -- base canvas group\r\n     * 2. backgroundGroup\r\n     * 3. panelGroup -- main facet group belongs to\r\n     * 4. foregroundGroup\r\n     * @param dom\r\n     * @private\r\n     */\r\n    SpreadSheet.prototype.initGroups = function (dom) {\r\n        var _a = this.options, width = _a.width, height = _a.height, supportCSSTransform = _a.supportCSSTransform, devicePixelRatio = _a.devicePixelRatio;\r\n        // base canvas group\r\n        this.container = new Canvas({\r\n            container: this.getMountContainer(dom),\r\n            width: width,\r\n            height: height,\r\n            localRefresh: false,\r\n            supportCSSTransform: supportCSSTransform,\r\n            pixelRatio: Math.max(devicePixelRatio, MIN_DEVICE_PIXEL_RATIO),\r\n        });\r\n        // the main three layer groups\r\n        this.backgroundGroup = this.container.addGroup({\r\n            name: KEY_GROUP_BACK_GROUND,\r\n            zIndex: BACK_GROUND_GROUP_CONTAINER_Z_INDEX,\r\n        });\r\n        this.panelGroup = this.container.addGroup({\r\n            name: KEY_GROUP_PANEL_GROUND,\r\n            zIndex: PANEL_GROUP_GROUP_CONTAINER_Z_INDEX,\r\n        });\r\n        this.foregroundGroup = this.container.addGroup({\r\n            name: KEY_GROUP_FORE_GROUND,\r\n            zIndex: FRONT_GROUND_GROUP_CONTAINER_Z_INDEX,\r\n        });\r\n        this.initPanelGroupChildren();\r\n        this.updateContainerStyle();\r\n    };\r\n    // canvas 需要设置为 块级元素, 不然和父元素有 5px 的高度差\r\n    SpreadSheet.prototype.updateContainerStyle = function () {\r\n        var canvas = this.container.get('el');\r\n        canvas.style.display = 'block';\r\n    };\r\n    SpreadSheet.prototype.initPanelGroupChildren = function () {\r\n        this.panelScrollGroup = this.panelGroup.addGroup({\r\n            name: KEY_GROUP_PANEL_SCROLL,\r\n            zIndex: PANEL_GROUP_SCROLL_GROUP_Z_INDEX,\r\n        });\r\n    };\r\n    SpreadSheet.prototype.getInitColumnLeafNodes = function () {\r\n        return this.store.get('initColumnLeafNodes', []);\r\n    };\r\n    SpreadSheet.prototype.clearCanvasEvent = function () {\r\n        var _this = this;\r\n        var canvasEvents = this.getEvents();\r\n        forIn(canvasEvents, function (_, event) {\r\n            _this.off(event);\r\n        });\r\n    };\r\n    return SpreadSheet;\r\n}(EE));\r\nexport { SpreadSheet };\r\n//# sourceMappingURL=spread-sheet.js.map","references":["F:/Ismart/S2-master/node_modules/@antv/event-emitter/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@types/lodash/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/hide-columns.ts","F:/Ismart/S2-master/packages/s2-core/src/cell/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/debug/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/i18n/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/emitter.ts","F:/Ismart/S2-master/packages/s2-core/src/common/store/index.ts","F:/Ismart/S2-master/packages/s2-core/src/data-set/index.ts","F:/Ismart/S2-master/packages/s2-core/src/facet/index.ts","F:/Ismart/S2-master/packages/s2-core/src/facet/layout/node.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts","F:/Ismart/S2-master/packages/s2-core/src/interaction/root.ts","F:/Ismart/S2-master/packages/s2-core/src/theme/index.ts","F:/Ismart/S2-master/packages/s2-core/src/ui/hd-adapter/index.ts","F:/Ismart/S2-master/packages/s2-core/src/ui/tooltip/index.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/condition/state-controller.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/merge.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/tooltip.ts","F:/Ismart/S2-master/packages/s2-core/src/common/icons/factory.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/merge.ts"],"map":"{\"version\":3,\"file\":\"spread-sheet.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/sheet-type/spread-sheet.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"F:/Ismart/S2-master/packages/s2-core/node_modules/.cache/rollup-plugin-typescript2/placeholder/sheet-type/spread-sheet.d.ts","writeByteOrderMark":false,"text":"import EE from '@antv/event-emitter';\r\nimport { Canvas, Event as CanvasEvent, IGroup } from '@antv/g-canvas';\r\nimport { LayoutWidthType, OffsetConfig, Pagination, S2CellType, S2DataConfig, S2MountContainer, S2Options, SpreadSheetFacetCfg, ThemeCfg, TooltipContentType, TooltipData, TooltipOptions, TooltipShowOptions, Totals } from \"../common/interface\";\r\nimport { EmitterType } from \"../common/interface/emitter\";\r\nimport { Store } from \"../common/store\";\r\nimport { BaseDataSet } from \"../data-set\";\r\nimport { BaseFacet } from \"../facet\";\r\nimport { Node } from \"../facet/layout/node\";\r\nimport { S2Theme } from \"../common/interface\";\r\nimport { RootInteraction } from \"../interaction/root\";\r\nimport { HdAdapter } from \"../ui/hd-adapter\";\r\nimport { BaseTooltip } from \"../ui/tooltip\";\r\nexport declare abstract class SpreadSheet extends EE {\r\n    theme: S2Theme;\r\n    store: Store;\r\n    dataCfg: S2DataConfig;\r\n    options: S2Options;\r\n    /**\r\n     * processed data structure, include {@link Fields}, {@link Meta}\r\n     * {@link Data}, {@link SortParams}\r\n     */\r\n    dataSet: BaseDataSet;\r\n    /**\r\n     * Facet: determine how to render headers/cell\r\n     */\r\n    facet: BaseFacet;\r\n    tooltip: BaseTooltip;\r\n    container: Canvas;\r\n    backgroundGroup: IGroup;\r\n    panelGroup: IGroup;\r\n    panelScrollGroup: IGroup;\r\n    frozenRowGroup: IGroup;\r\n    frozenColGroup: IGroup;\r\n    frozenTrailingRowGroup: IGroup;\r\n    frozenTrailingColGroup: IGroup;\r\n    frozenTopGroup: IGroup;\r\n    frozenBottomGroup: IGroup;\r\n    foregroundGroup: IGroup;\r\n    interaction: RootInteraction;\r\n    hdAdapter: HdAdapter;\r\n    private untypedOn;\r\n    private untypedEmit;\r\n    on: <K extends keyof EmitterType>(event: K, listener: EmitterType[K]) => this;\r\n    emit: <K extends keyof EmitterType>(event: K, ...args: Parameters<EmitterType[K]>) => boolean;\r\n    constructor(dom: S2MountContainer, dataCfg: S2DataConfig, options: S2Options);\r\n    private setDebug;\r\n    private initTheme;\r\n    private getMountContainer;\r\n    private initHdAdapter;\r\n    private initInteraction;\r\n    private initTooltip;\r\n    private renderTooltip;\r\n    protected abstract bindEvents(): void;\r\n    abstract getDataSet(options: S2Options): BaseDataSet;\r\n    /**\r\n     * Check if is pivot mode\r\n     */\r\n    abstract isPivotMode(): boolean;\r\n    /**\r\n     * tree type must be in strategy mode\r\n     */\r\n    abstract isHierarchyTreeType(): boolean;\r\n    /**\r\n     * Check whether scroll contains row header\r\n     * For now contains row header in ListSheet mode by default\r\n     */\r\n    abstract isScrollContainsRowHeader(): boolean;\r\n    /**\r\n     * Scroll Freeze Row Header\r\n     */\r\n    abstract isFrozenRowHeader(): boolean;\r\n    /**\r\n     * Check if is pivot mode\r\n     */\r\n    abstract isTableMode(): boolean;\r\n    /**\r\n     * Check if the value is in the columns\r\n     */\r\n    abstract isValueInCols(): boolean;\r\n    /**\r\n     * 避免每次新增、变更dataSet和options时，生成SpreadSheetFacetCfg\r\n     * 要多出定义匹配的问题，直接按需&部分拆分options/dataSet合并为facetCfg\r\n     */\r\n    protected abstract getFacetCfgFromDataSetAndOptions(): SpreadSheetFacetCfg;\r\n    protected abstract buildFacet(): void;\r\n    abstract clearDrillDownData(rowNodeId?: string, preventRender?: boolean): void;\r\n    abstract handleGroupSort(event: CanvasEvent, meta: Node): void;\r\n    showTooltip<T = TooltipContentType>(showOptions: TooltipShowOptions<T>): void;\r\n    showTooltipWithInfo(event: CanvasEvent | MouseEvent, data: TooltipData[], options?: TooltipOptions): void;\r\n    hideTooltip(): void;\r\n    destroyTooltip(): void;\r\n    registerIcons(): void;\r\n    /**\r\n     * Update data config and keep pre-sort operations\r\n     * Group sort params kept in {@see store} and\r\n     * Priority: group sort > advanced sort\r\n     * @param dataCfg\r\n     */\r\n    setDataCfg(dataCfg: S2DataConfig): void;\r\n    setOptions(options: Partial<S2Options>): void;\r\n    render(reloadData?: boolean, reBuildDataSet?: boolean): void;\r\n    destroy(): void;\r\n    /**\r\n     * Update theme config, if the {@param type} is exists, re-use it,\r\n     * otherwise create new one {@see theme}\r\n     * @param type string\r\n     * @param theme\r\n     */\r\n    setThemeCfg(themeCfg: ThemeCfg): void;\r\n    /**\r\n     * Update pagination config which store in {@see options}\r\n     * @param pagination\r\n     */\r\n    updatePagination(pagination: Pagination): void;\r\n    /**\r\n     * 获取当前表格实际内容高度\r\n     */\r\n    getContentHeight(): number;\r\n    /**\r\n     * @param width\r\n     * @param height\r\n     * @deprecated 该方法将会在2.0被移除, 请使用 changeSheetSize 代替\r\n     */\r\n    changeSize(width?: number, height?: number): void;\r\n    /**\r\n     * 修改表格画布大小，不用重新加载数据\r\n     * @param width\r\n     * @param height\r\n     */\r\n    changeSheetSize(width?: number, height?: number): void;\r\n    getLayoutWidthType(): LayoutWidthType;\r\n    getRowNodes(level?: number): Node[];\r\n    /**\r\n     * get columnNode in levels,\r\n     * @param level -1 = get all\r\n     */\r\n    getColumnNodes(level?: number): Node[];\r\n    getColumnLeafNodes(): Node[];\r\n    /**\r\n     * Update scroll's offset, the value can be undefined,\r\n     * indicate not update current value\r\n     * @param offsetConfig\r\n     * default offsetX(horizontal scroll need animation)\r\n     * but offsetY(vertical scroll don't need animation)\r\n     */\r\n    updateScrollOffset(offsetConfig: OffsetConfig): void;\r\n    getTooltipDataItemMappingCallback(): import(\"../common/interface\").MappingDataItemCallback;\r\n    getCell<T extends S2CellType = S2CellType>(target: CanvasEvent['target']): T;\r\n    getCellType(target: CanvasEvent['target']): import(\"../common/constant\").CellTypes;\r\n    /**\r\n     * get total's config by dimension id\r\n     * @param dimension unique dimension id\r\n     */\r\n    getTotalsConfig(dimension: string): Partial<Totals['row']>;\r\n    /**\r\n     * Create all related groups, contains:\r\n     * 1. container -- base canvas group\r\n     * 2. backgroundGroup\r\n     * 3. panelGroup -- main facet group belongs to\r\n     * 4. foregroundGroup\r\n     * @param dom\r\n     * @private\r\n     */\r\n    protected initGroups(dom: S2MountContainer): void;\r\n    protected updateContainerStyle(): void;\r\n    protected initPanelGroupChildren(): void;\r\n    getInitColumnLeafNodes(): Node[];\r\n    private initHiddenColumnsDetail;\r\n    private clearCanvasEvent;\r\n}\r\n"}}
