{"code":"import { __assign, __extends } from \"tslib\";\r\nimport { isFrozenRow as isFrozenRowUtil, isFrozenTrailingRow as isFrozenTrailingRowUtil, } from \"../facet/utils\";\r\nimport { DataCell } from \"./data-cell\";\r\nimport { CellTypes, KEY_GROUP_ROW_RESIZE_AREA, KEY_GROUP_FROZEN_ROW_RESIZE_AREA, ResizeAreaEffect, ResizeDirectionType, } from \"../common/constant\";\r\nimport { getOrCreateResizeAreaGroupById, getResizeAreaAttrs, } from \"../utils/interaction/resize\";\r\nvar TableRowCell = /** @class */ (function (_super) {\r\n    __extends(TableRowCell, _super);\r\n    function TableRowCell() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(TableRowCell.prototype, \"cellType\", {\r\n        get: function () {\r\n            return CellTypes.ROW_CELL;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TableRowCell.prototype.getTextStyle = function () {\r\n        return this.theme.rowCell.text;\r\n    };\r\n    TableRowCell.prototype.drawBorderShape = function () {\r\n        _super.prototype.drawBorderShape.call(this);\r\n        if (this.meta.colIndex === 0) {\r\n            this.drawLeftBorder();\r\n        }\r\n    };\r\n    TableRowCell.prototype.drawResizeArea = function () {\r\n        var _a = this.getCellArea(), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n        var rowIndex = this.meta.rowIndex;\r\n        var resizeStyle = this.getResizeAreaStyle();\r\n        var _b = this.spreadsheet.options, frozenRowCount = _b.frozenRowCount, frozenTrailingRowCount = _b.frozenTrailingRowCount;\r\n        var cellRange = this.spreadsheet.facet.getCellRange();\r\n        var isFrozenRow = isFrozenRowUtil(rowIndex, cellRange.start, frozenRowCount);\r\n        var isFrozenTrailingRow = isFrozenTrailingRowUtil(rowIndex, cellRange.end, frozenTrailingRowCount);\r\n        var isFrozen = isFrozenRow || isFrozenTrailingRow;\r\n        var resizeAreaId = isFrozen\r\n            ? KEY_GROUP_FROZEN_ROW_RESIZE_AREA\r\n            : KEY_GROUP_ROW_RESIZE_AREA;\r\n        var resizeArea = getOrCreateResizeAreaGroupById(this.spreadsheet, resizeAreaId);\r\n        var colHeight = this.spreadsheet.facet.layoutResult.colsHierarchy.height;\r\n        var sy = this.spreadsheet.facet.getScrollOffset().scrollY;\r\n        var paginationSy = this.spreadsheet.facet.getPaginationScrollY();\r\n        var scrollY = sy + paginationSy;\r\n        var yOffset = y + (isFrozenTrailingRow ? 0 : colHeight);\r\n        if (!isFrozenTrailingRow) {\r\n            yOffset -= isFrozenRow ? paginationSy : scrollY;\r\n        }\r\n        resizeArea.addShape('rect', {\r\n            attrs: __assign(__assign({}, getResizeAreaAttrs({\r\n                id: String(this.meta.rowIndex),\r\n                theme: resizeStyle,\r\n                type: ResizeDirectionType.Vertical,\r\n                effect: ResizeAreaEffect.Cell,\r\n                offsetX: x,\r\n                offsetY: yOffset,\r\n                width: width,\r\n                height: height,\r\n            })), { x: x, y: yOffset + height - resizeStyle.size / 2, width: width }),\r\n        });\r\n    };\r\n    return TableRowCell;\r\n}(DataCell));\r\nexport { TableRowCell };\r\n//# sourceMappingURL=table-series-cell.js.map","references":["F:/Ismart/S2-master/packages/s2-core/src/facet/utils.ts","F:/Ismart/S2-master/packages/s2-core/src/cell/data-cell.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/index.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/index.ts","F:/Ismart/S2-master/packages/s2-core/src/utils/interaction/resize.ts"],"map":"{\"version\":3,\"file\":\"table-series-cell.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/cell/table-series-cell.ts\"],\"names\":[],\"mappings\":\"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\"}"}
