{"code":"import { __assign, __extends } from \"tslib\";\r\nimport { Group } from '@antv/g-canvas';\r\nimport { each, get } from 'lodash';\r\nimport { MIN_SCROLL_BAR_HEIGHT } from \"../../common/constant/scroll\";\r\nexport var ScrollType;\r\n(function (ScrollType) {\r\n    ScrollType[\"ScrollChange\"] = \"scroll-change\";\r\n    ScrollType[\"ScrollEnd\"] = \"scroll-end\";\r\n})(ScrollType || (ScrollType = {}));\r\nvar ScrollBar = /** @class */ (function (_super) {\r\n    __extends(ScrollBar, _super);\r\n    function ScrollBar(scrollBarCfg) {\r\n        var _this = _super.call(this, scrollBarCfg) || this;\r\n        // 通过拖拽开始的事件是 mousedown 还是 touchstart 来决定是移动端还是 pc 端\r\n        _this.isMobile = false;\r\n        _this.eventHandlers = [];\r\n        _this.scrollFrameId = null;\r\n        _this.getCoordinates = function () {\r\n            var from = _this.isHorizontal ? 'x1' : 'y1';\r\n            var to = _this.isHorizontal ? 'x2' : 'y2';\r\n            return { from: from, to: to };\r\n        };\r\n        /**\r\n         * 当前滑块滑动的位置 0 ~ 1\r\n         */\r\n        _this.current = function () {\r\n            var thumbRate = _this.thumbLen / _this.trackLen;\r\n            var offsetRate = _this.thumbOffset / _this.trackLen;\r\n            return offsetRate / (1 - thumbRate);\r\n        };\r\n        /**\r\n         * 更新滑道长度\r\n         * @param newTrackLen 新的滑块长度\r\n         */\r\n        _this.updateTrackLen = function (newTrackLen) {\r\n            // 如果更新后的 trackLen 没改变，无需执行后续逻辑\r\n            if (_this.trackLen === newTrackLen) {\r\n                return;\r\n            }\r\n            // 更新滑道长度的时候，同时按比例更新滑块长度和 offset(增大视窗或者减小视窗的场景))\r\n            var thumbRate = _this.thumbLen / _this.trackLen;\r\n            var offsetRate = _this.thumbOffset / _this.trackLen;\r\n            var newThumbLen = newTrackLen * thumbRate;\r\n            var newOffset = newTrackLen * offsetRate;\r\n            _this.scrollTargetMaxOffset =\r\n                _this.scrollTargetMaxOffset + _this.trackLen - newTrackLen;\r\n            _this.trackLen = newTrackLen;\r\n            var coordinate = _this.getCoordinates();\r\n            _this.trackShape.attr(coordinate.to, newTrackLen);\r\n            _this.updateThumbLen(newThumbLen);\r\n            _this.updateThumbOffset(newOffset);\r\n            _this.emitScrollChange((newOffset / (newTrackLen - newThumbLen)) * _this.scrollTargetMaxOffset, false);\r\n        };\r\n        /**\r\n         * 更新滑块长度\r\n         * @param newThumbLen 新的滑道长度\r\n         */\r\n        _this.updateThumbLen = function (newThumbLen) {\r\n            // 如果更新后的 thumbLen 没改变，无需执行后续逻辑\r\n            if (_this.thumbLen === newThumbLen) {\r\n                return;\r\n            }\r\n            _this.thumbLen = newThumbLen;\r\n            var coordinate = _this.getCoordinates();\r\n            _this.thumbShape.attr(coordinate.to, _this.thumbOffset + newThumbLen);\r\n            _this.emitScrollChange((_this.thumbOffset / (_this.trackLen - _this.thumbLen)) *\r\n                _this.scrollTargetMaxOffset, false);\r\n        };\r\n        /**\r\n         * 更新滑块的 offset 值\r\n         * @param offset\r\n         */\r\n        _this.updateThumbOffset = function (offset, emitScrollChange) {\r\n            var _a;\r\n            if (emitScrollChange === void 0) { emitScrollChange = true; }\r\n            var newOffset = _this.validateRange(offset);\r\n            var isNotChanged = _this.thumbOffset === newOffset && newOffset !== 0;\r\n            if (isNotChanged) {\r\n                return;\r\n            }\r\n            _this.thumbOffset = newOffset;\r\n            var _b = _this.getCoordinates(), from = _b.from, to = _b.to;\r\n            _this.thumbShape.attr((_a = {},\r\n                _a[from] = newOffset,\r\n                _a[to] = newOffset + _this.thumbLen,\r\n                _a));\r\n            if (emitScrollChange) {\r\n                _this.emitScrollChange((newOffset / (_this.trackLen - _this.thumbLen)) *\r\n                    _this.scrollTargetMaxOffset, false);\r\n            }\r\n        };\r\n        /**\r\n         * 只更新位置属性，而不emit滚动事件\r\n         * @param offset\r\n         */\r\n        _this.onlyUpdateThumbOffset = function (offset) {\r\n            var _a;\r\n            _this.updateThumbOffset(offset, false);\r\n            (_a = _this.get('canvas')) === null || _a === void 0 ? void 0 : _a.draw();\r\n        };\r\n        _this.emitScrollChange = function (offset, updateThumbOffset) {\r\n            if (updateThumbOffset === void 0) { updateThumbOffset = true; }\r\n            cancelAnimationFrame(_this.scrollFrameId);\r\n            _this.scrollFrameId = requestAnimationFrame(function () {\r\n                _this.emit(ScrollType.ScrollChange, {\r\n                    offset: offset,\r\n                    updateThumbOffset: updateThumbOffset,\r\n                });\r\n            });\r\n        };\r\n        _this.addEventListener = function (target, eventType, callback) {\r\n            target === null || target === void 0 ? void 0 : target.addEventListener(eventType, callback, false);\r\n            return {\r\n                remove: function () {\r\n                    target === null || target === void 0 ? void 0 : target.removeEventListener(eventType, callback, false);\r\n                },\r\n            };\r\n        };\r\n        _this.addEvent = function (target, type, handler) {\r\n            target.on(type, handler);\r\n            _this.eventHandlers.push({ target: target, type: type, handler: handler });\r\n        };\r\n        _this.initScrollBar = function () {\r\n            _this.scrollBarGroup = _this.createScrollBarGroup();\r\n            _this.scrollBarGroup.move(_this.position.x, _this.position.y);\r\n            _this.bindEvents();\r\n        };\r\n        // 创建 scrollBar 的 group\r\n        _this.createScrollBarGroup = function () {\r\n            var group = _this.addGroup({\r\n                className: _this.isHorizontal ? 'horizontalBar' : 'verticalBar',\r\n            });\r\n            _this.trackShape = _this.createTrackShape(group);\r\n            _this.thumbShape = _this.createThumbShape(group);\r\n            return group;\r\n        };\r\n        // 创建滑道的 shape\r\n        _this.createTrackShape = function (group) {\r\n            var _a = _this.theme, _b = _a.lineCap, lineCap = _b === void 0 ? 'round' : _b, trackColor = _a.trackColor, size = _a.size;\r\n            var baseAttrs = {\r\n                lineWidth: size,\r\n                stroke: trackColor,\r\n                lineCap: lineCap,\r\n            };\r\n            if (_this.isHorizontal) {\r\n                return group.addShape('line', {\r\n                    attrs: __assign(__assign({}, baseAttrs), { x1: 0, y1: size / 2, x2: _this.trackLen, y2: size / 2 }),\r\n                });\r\n            }\r\n            return group.addShape('line', {\r\n                attrs: __assign(__assign({}, baseAttrs), { x1: size / 2, y1: 0, x2: size / 2, y2: _this.trackLen }),\r\n            });\r\n        };\r\n        // 创建滑块的 shape\r\n        _this.createThumbShape = function (group) {\r\n            var _a = _this.theme, size = _a.size, _b = _a.lineCap, lineCap = _b === void 0 ? 'round' : _b, thumbColor = _a.thumbColor;\r\n            var baseAttrs = {\r\n                lineWidth: size,\r\n                stroke: thumbColor,\r\n                lineCap: lineCap,\r\n                cursor: 'default',\r\n            };\r\n            if (_this.isHorizontal) {\r\n                return group.addShape('line', {\r\n                    attrs: __assign(__assign({}, baseAttrs), { x1: _this.thumbOffset, y1: size / 2, x2: _this.thumbOffset + _this.thumbLen, y2: size / 2 }),\r\n                });\r\n            }\r\n            return group.addShape('line', {\r\n                attrs: __assign(__assign({}, baseAttrs), { x1: size / 2, y1: _this.thumbOffset, x2: size / 2, y2: _this.thumbOffset + _this.thumbLen }),\r\n            });\r\n        };\r\n        _this.bindEvents = function () {\r\n            _this.on('mousedown', _this.onStartEvent(false));\r\n            // 因为上层透视表交互 prevent 事件，导致 container 上的 mouseup 事件没有执行，\r\n            // 整个拖拽过程没有 cancel 掉。\r\n            _this.on('mouseup', _this.onMouseUp);\r\n            _this.on('touchstart', _this.onStartEvent(true));\r\n            _this.on('touchend', _this.onMouseUp);\r\n            _this.trackShape.on('click', _this.onTrackClick);\r\n            _this.thumbShape.on('mouseover', _this.onTrackMouseOver);\r\n            _this.thumbShape.on('mouseout', _this.onTrackMouseOut);\r\n        };\r\n        _this.onStartEvent = function (isMobile) { return function (e) {\r\n            e.preventDefault();\r\n            _this.isMobile = isMobile;\r\n            var event = _this.isMobile ? get(e, 'touches.0', e) : e;\r\n            var clientX = event.clientX, clientY = event.clientY;\r\n            // 将开始的点记录下来\r\n            _this.startPos = _this.isHorizontal ? clientX : clientY;\r\n            _this.bindLaterEvent();\r\n        }; };\r\n        _this.bindLaterEvent = function () {\r\n            var canvas = _this.get('canvas');\r\n            var containerDOM = document.body;\r\n            var events = [];\r\n            if (_this.isMobile) {\r\n                events = [\r\n                    _this.addEventListener(containerDOM, 'touchmove', _this.onMouseMove),\r\n                    _this.addEventListener(containerDOM, 'touchend', _this.onMouseUp),\r\n                    _this.addEventListener(containerDOM, 'touchcancel', _this.onMouseUp),\r\n                ];\r\n                _this.addEvent(canvas, 'touchend', _this.onMouseUp);\r\n                _this.addEvent(canvas, 'touchcancel', _this.onMouseUp);\r\n            }\r\n            else {\r\n                events = [\r\n                    _this.addEventListener(containerDOM, 'mousemove', _this.onMouseMove),\r\n                    _this.addEventListener(containerDOM, 'mouseup', _this.onMouseUp),\r\n                    // 为了保证划出 canvas containerDom 时还没触发 mouseup\r\n                    _this.addEventListener(containerDOM, 'mouseleave', _this.onMouseUp),\r\n                ];\r\n                _this.addEvent(canvas, 'mouseup', _this.onMouseUp);\r\n            }\r\n            _this.clearEvents = function () {\r\n                events.forEach(function (e) {\r\n                    e === null || e === void 0 ? void 0 : e.remove();\r\n                });\r\n                each(_this.eventHandlers, function (eh) {\r\n                    var _a;\r\n                    (_a = eh.target) === null || _a === void 0 ? void 0 : _a.off(eh.type, eh.handler);\r\n                });\r\n                _this.eventHandlers.length = 0;\r\n            };\r\n        };\r\n        // 点击滑道的事件回调,移动滑块位置\r\n        _this.onTrackClick = function (e) {\r\n            var containerDOM = _this.get('canvas').get('container');\r\n            var rect = containerDOM.getBoundingClientRect();\r\n            var clientX = e.clientX, clientY = e.clientY;\r\n            var offset = _this.isHorizontal\r\n                ? clientX - rect.left - _this.position.x - _this.thumbLen / 2\r\n                : clientY - rect.top - _this.position.y - _this.thumbLen / 2;\r\n            var newOffset = _this.validateRange(offset);\r\n            _this.updateThumbOffset(newOffset);\r\n        };\r\n        // 拖拽滑块的事件回调\r\n        // 这里是 dom 原生事件，绑定在 dom 元素上的\r\n        _this.onMouseMove = function (e) {\r\n            e.preventDefault();\r\n            var event = _this.isMobile ? get(e, 'touches.0', e) : e;\r\n            var clientX = event.clientX;\r\n            var clientY = event.clientY;\r\n            // 鼠标松开的位置\r\n            var endPos = _this.isHorizontal ? clientX : clientY;\r\n            // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\r\n            var diff = endPos - _this.startPos;\r\n            // 更新 startPos\r\n            _this.startPos = endPos;\r\n            _this.updateThumbOffset(_this.thumbOffset + diff);\r\n        };\r\n        _this.onMouseUp = function (e) {\r\n            var _a;\r\n            _this.emit(ScrollType.ScrollEnd, {});\r\n            e.preventDefault();\r\n            (_a = _this.clearEvents) === null || _a === void 0 ? void 0 : _a.call(_this);\r\n        };\r\n        _this.onTrackMouseOver = function () {\r\n            var _a = _this.theme, thumbHoverColor = _a.thumbHoverColor, hoverSize = _a.hoverSize;\r\n            _this.thumbShape.attr('stroke', thumbHoverColor);\r\n            _this.thumbShape.attr('lineWidth', hoverSize);\r\n        };\r\n        _this.onTrackMouseOut = function () {\r\n            var _a = _this.theme, thumbColor = _a.thumbColor, size = _a.size;\r\n            _this.thumbShape.attr('stroke', thumbColor);\r\n            _this.thumbShape.attr('lineWidth', size);\r\n        };\r\n        // 判断滑块位置是否超出滑道区域\r\n        _this.validateRange = function (offset) {\r\n            var newOffset = offset;\r\n            if (offset + _this.thumbLen > _this.trackLen) {\r\n                newOffset = _this.trackLen - _this.thumbLen;\r\n            }\r\n            else if (offset + _this.thumbLen < _this.thumbLen) {\r\n                newOffset = 0;\r\n            }\r\n            return newOffset;\r\n        };\r\n        var _a = scrollBarCfg.isHorizontal, isHorizontal = _a === void 0 ? false : _a, trackLen = scrollBarCfg.trackLen, thumbLen = scrollBarCfg.thumbLen, position = scrollBarCfg.position, _b = scrollBarCfg.minThumbLen, minThumbLen = _b === void 0 ? MIN_SCROLL_BAR_HEIGHT : _b, _c = scrollBarCfg.thumbOffset, thumbOffset = _c === void 0 ? 0 : _c, theme = scrollBarCfg.theme, scrollTargetMaxOffset = scrollBarCfg.scrollTargetMaxOffset;\r\n        _this.isHorizontal = isHorizontal;\r\n        _this.thumbOffset = thumbOffset;\r\n        _this.trackLen = trackLen;\r\n        _this.thumbLen = thumbLen;\r\n        _this.position = position;\r\n        _this.minThumbLen = minThumbLen;\r\n        _this.theme = theme;\r\n        _this.scrollTargetMaxOffset = scrollTargetMaxOffset;\r\n        _this.initScrollBar();\r\n        return _this;\r\n    }\r\n    return ScrollBar;\r\n}(Group));\r\nexport { ScrollBar };\r\n//# sourceMappingURL=index.js.map","references":["F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@antv/g-canvas/lib/index.d.ts","F:/Ismart/S2-master/node_modules/@types/lodash/index.d.ts","F:/Ismart/S2-master/packages/s2-core/src/ui/scrollbar/interface.ts","F:/Ismart/S2-master/packages/s2-core/src/common/interface/theme.ts","F:/Ismart/S2-master/packages/s2-core/src/common/constant/scroll.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/ui/scrollbar/index.ts\"],\"names\":[],\"mappings\":\"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\"}"}
